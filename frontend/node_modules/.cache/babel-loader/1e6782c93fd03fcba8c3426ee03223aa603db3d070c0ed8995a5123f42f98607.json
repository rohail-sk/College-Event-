{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rohail\\\\Desktop\\\\3rd year project\\\\college-event\\\\frontend\\\\src\\\\pages\\\\FacultyDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getEvents, requestEvent, getRequestedEvents, getEventsByFacultyId, updateEventRequest } from '../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FacultyDashboard() {\n  _s();\n  var _userInfo$name;\n  // Get faculty user info from localStorage\n  const getUserInfo = () => {\n    try {\n      // First try to get faculty-specific user data\n      const facultyUser = JSON.parse(localStorage.getItem('user_faculty') || '{}');\n      if (facultyUser && Object.keys(facultyUser).length > 0) {\n        return {\n          id: facultyUser.id || facultyUser._id || facultyUser.facultyId || '',\n          name: facultyUser.name || '',\n          email: facultyUser.email || '',\n          role: facultyUser.role || 'faculty'\n        };\n      }\n\n      // Fall back to checking main user if active role is faculty\n      if (localStorage.getItem('lastActiveRole') === 'faculty') {\n        const user = JSON.parse(localStorage.getItem('user') || '{}');\n        if (user && user.role === 'faculty') {\n          return {\n            id: user.id || user._id || user.facultyId || '',\n            name: user.name || '',\n            email: user.email || '',\n            role: user.role || ''\n          };\n        }\n      }\n      return {\n        id: '',\n        name: '',\n        email: '',\n        role: 'faculty'\n      };\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      return {\n        id: '',\n        name: '',\n        email: '',\n        role: 'faculty'\n      };\n    }\n  };\n  const [userInfo, setUserInfo] = useState(getUserInfo());\n\n  // Check if the user has faculty credentials\n  useEffect(() => {\n    // First check if we have faculty-specific credentials\n    let facultyUser = null;\n    try {\n      facultyUser = JSON.parse(localStorage.getItem('user_faculty') || 'null');\n    } catch (e) {\n      console.error('Error parsing faculty user data', e);\n    }\n\n    // If not found, check the main user object\n    if (!facultyUser) {\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n      if (user && user.role === 'faculty') {\n        facultyUser = user;\n      }\n    }\n\n    // If still no faculty credentials, redirect to login\n    if (!facultyUser) {\n      alert('Access denied. Please login as faculty.');\n      window.location.href = 'http://localhost:3000/';\n      return;\n    }\n\n    // Only set the current active role to faculty for this session\n    // Do NOT overwrite the main user object, just update the active role\n    localStorage.setItem('lastActiveRole', 'faculty');\n\n    // Store a flag to indicate this dashboard is active\n    localStorage.setItem('active_dashboard', 'faculty');\n\n    // Update userInfo state with the latest faculty data\n    setUserInfo(getUserInfo());\n\n    // Add storage event listener to handle login changes in other tabs\n    const handleStorageChange = e => {\n      if (e.key === 'lastActiveRole' && e.newValue !== 'faculty') {\n        // Another dashboard has become active, but don't redirect\n        console.log('Active role changed in another tab');\n      }\n    };\n    window.addEventListener('storage', handleStorageChange);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, []);\n  const navigate = useNavigate();\n  const [tab, setTab] = useState('view');\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [form, setForm] = useState({\n    facultyId: '',\n    // Will be updated after userInfo is set\n    title: '',\n    date: '',\n    description: '',\n    venue: ''\n  });\n  const [myRequestId, setMyRequestId] = useState(null);\n  const [polling, setPolling] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [successMsg, setSuccessMsg] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n  const [myRequests, setMyRequests] = useState([]);\n  const [requestsLoading, setRequestsLoading] = useState(true);\n  const [editingRequest, setEditingRequest] = useState(null);\n\n  // Update form when userInfo changes\n  useEffect(() => {\n    setForm(prevForm => ({\n      ...prevForm,\n      facultyId: userInfo.id\n    }));\n  }, [userInfo]);\n\n  // Fetch all events\n  useEffect(() => {\n    const fetchEvents = async () => {\n      setLoading(true);\n      try {\n        const res = await getEvents();\n        // Filter to only show approved events\n        const approvedEvents = (res.data || []).filter(event => {\n          const status = (event.status || '').toString().trim().toLowerCase();\n          return status === 'approved';\n        });\n        setEvents(approvedEvents);\n      } catch {\n        setEvents([]);\n      }\n      setLoading(false);\n    };\n    fetchEvents();\n  }, []);\n\n  // Handle form input\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle edit request button click\n  const handleEditRequest = request => {\n    // Pre-fill form with the request data\n    setForm({\n      facultyId: form.facultyId,\n      // Keep the current faculty ID\n      title: request.title || '',\n      date: request.date || request.event_date || '',\n      description: request.description || '',\n      venue: request.venue || ''\n    });\n\n    // Store the request being edited\n    setEditingRequest(request);\n\n    // Switch to create tab which has the form\n    setTab('create');\n  };\n\n  // Handle event request submit (API call)\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    setSuccessMsg('');\n    setErrorMsg('');\n    // Validation: only allow future dates\n    const today = new Date();\n    const selected = new Date(form.date);\n    if (selected <= today) {\n      setErrorMsg('Please select a future date for the event.');\n      setSubmitting(false);\n      return;\n    }\n    try {\n      const payload = {\n        ...form\n      };\n      let res;\n      if (editingRequest) {\n        // Update an existing request\n        const requestId = editingRequest.id || editingRequest._id;\n        // Set status to pending to ensure it goes back to admin for review\n        payload.status = 'pending';\n        res = await updateEventRequest(requestId, payload);\n        setSuccessMsg('Event request updated and sent to admin for re-examination!');\n        // After update, clear the editing state\n        setEditingRequest(null);\n      } else {\n        var _res$data, _res$data2;\n        // Send new request to admin with all details\n        res = await requestEvent(payload);\n        setSuccessMsg('Event request sent to admin for approval!');\n        setMyRequestId(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.id) || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2._id) || null);\n        setPolling(true);\n      }\n\n      // Keep the faculty ID when resetting the form\n      setForm({\n        facultyId: form.facultyId,\n        // Keep the faculty ID\n        title: '',\n        date: '',\n        description: '',\n        venue: ''\n      });\n\n      // Refresh the requests list if we're updating\n      if (editingRequest) {\n        try {\n          const updatedRequests = await getEventsByFacultyId(form.facultyId);\n          setMyRequests(updatedRequests.data || []);\n        } catch (error) {\n          console.error('Failed to refresh requests after update', error);\n        }\n      }\n    } catch (err) {\n      console.error('Request error:', err);\n      setErrorMsg(editingRequest ? 'Failed to update event request.' : 'Failed to send event request.');\n    }\n    setSubmitting(false);\n  };\n\n  // Poll for approval of the latest request\n  useEffect(() => {\n    let interval;\n    if (polling && myRequestId) {\n      interval = setInterval(async () => {\n        try {\n          var _res$data3;\n          const res = await getRequestedEvents();\n          const req = (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.find(r => r.id === myRequestId || r._id === myRequestId);\n          if (req) {\n            const status = (req.status || '').toString().trim().toLowerCase();\n            console.log('Polling: myRequestId', myRequestId, 'found request:', req, 'status:', status);\n            if (status === 'approved' || status === 'Approved'.toLowerCase()) {\n              setSuccessMsg('Your event has been approved and is now live!');\n              setPolling(false);\n              // Optionally, refresh events list\n              const eventsRes = await getEvents();\n              setEvents(eventsRes.data || []);\n              window.alert('Your event request has been approved! The event is now public.');\n            }\n          }\n        } catch (err) {\n          // console.error('Polling error:', err);\n        }\n      }, 2000);\n    }\n    return () => clearInterval(interval);\n  }, [polling, myRequestId]);\n\n  // This section is intentionally removed as we no longer have a two-step process\n\n  // Fetch requested events for this faculty\n  useEffect(() => {\n    const fetchMyRequests = async () => {\n      if (tab === 'requests') {\n        setRequestsLoading(true);\n        try {\n          // Simply use the facultyId from the form state, which is already initialized\n          // from localStorage when the component mounts\n          if (form.facultyId) {\n            // Use the dedicated API endpoint to get events by faculty ID\n            const res = await getEventsByFacultyId(form.facultyId);\n            console.log('Faculty events response:', res.data);\n\n            // Debug: check if any requests have remarks\n            const requestsWithRemarks = (res.data || []).filter(req => req.remark || req.remarks || req.adminRemarks);\n            console.log('Requests with remarks:', requestsWithRemarks);\n\n            // Store the data, ensuring remarks field is consistent\n            const processedRequests = (res.data || []).map(req => {\n              // Normalize the remarks field to ensure it's consistently available\n              if (req.adminRemarks && !req.remarks && !req.remark) {\n                req.remarks = req.adminRemarks;\n              }\n              return req;\n            });\n            setMyRequests(processedRequests);\n          } else {\n            console.log('No faculty ID found to fetch requests');\n            setMyRequests([]);\n          }\n        } catch (error) {\n          console.error('Error fetching faculty events:', error);\n          setMyRequests([]);\n        }\n        setRequestsLoading(false);\n      }\n    };\n    fetchMyRequests();\n  }, [tab, form.facultyId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem',\n      maxWidth: 900,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Faculty Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 16,\n        marginBottom: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab('view'),\n        style: {\n          background: tab === 'view' ? '#333' : '#eee',\n          color: tab === 'view' ? '#fff' : '#333',\n          border: 'none',\n          padding: '0.5rem 1.5rem',\n          cursor: 'pointer'\n        },\n        children: \"View Upcoming Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab('requests'),\n        style: {\n          background: tab === 'requests' ? '#333' : '#eee',\n          color: tab === 'requests' ? '#fff' : '#333',\n          border: 'none',\n          padding: '0.5rem 1.5rem',\n          cursor: 'pointer'\n        },\n        children: \"My Requested Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab('create'),\n        style: {\n          background: tab === 'create' ? '#333' : '#eee',\n          color: tab === 'create' ? '#fff' : '#333',\n          border: 'none',\n          padding: '0.5rem 1.5rem',\n          cursor: 'pointer'\n        },\n        children: \"Request New Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab('profile'),\n        style: {\n          background: tab === 'profile' ? '#333' : '#eee',\n          color: tab === 'profile' ? '#fff' : '#333',\n          border: 'none',\n          padding: '0.5rem 1.5rem',\n          cursor: 'pointer'\n        },\n        children: \"My Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), tab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Upcoming Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading events...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 22\n      }, this) : events.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No events found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 35\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: events.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '1px solid #ddd',\n            borderRadius: 8,\n            padding: 16,\n            marginBottom: 16,\n            background: '#fafafa'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 'bold',\n              fontSize: 16\n            },\n            children: event.title || event.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Date: \", event.date || event.event_date, \" \\xA0 | \\xA0 Time: \", event.time]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Venue: \", event.venue]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Description: \", event.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 21\n          }, this)]\n        }, event.id || event._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }, this), tab === 'requests' && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"My Requested Events\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this), requestsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading your requests...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 30\n      }, this) : myRequests.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No event requests found. Please ensure your Faculty ID is correct when submitting requests.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.9em',\n            color: '#666'\n          },\n          children: [\"Current Faculty ID: \", function () {\n            const userInfo = JSON.parse(localStorage.getItem('user') || '{}');\n            return form.facultyId || localStorage.getItem('facultyId') || userInfo.facultyId || userInfo.id || \"None found\";\n          }()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: myRequests.map(request => {\n          const status = (request.status || '').toString().trim().toLowerCase();\n          let statusColor, statusBg, statusText;\n          if (status === 'approved') {\n            statusColor = '#5cb85c'; // Green\n            statusBg = '#dff0d8'; // Light green\n            statusText = 'Approved';\n          } else if (status === 'rejected') {\n            statusColor = '#d9534f'; // Red\n            statusBg = '#f2dede'; // Light red\n            statusText = 'Rejected';\n          } else {\n            statusColor = '#f0ad4e'; // Orange\n            statusBg = '#fcf8e3'; // Light orange\n            statusText = 'Pending';\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: `1px solid ${statusColor}`,\n              borderRadius: 8,\n              padding: 16,\n              marginBottom: 16,\n              background: statusBg\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                marginBottom: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold',\n                  fontSize: 18\n                },\n                children: request.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '4px 10px',\n                  background: statusColor,\n                  color: 'white',\n                  borderRadius: '4px',\n                  fontWeight: 'bold'\n                },\n                children: statusText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Faculty ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 28\n              }, this), \" \", request.facultyId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 28\n              }, this), \" \", request.date || request.event_date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Venue:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 28\n              }, this), \" \", request.venue]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Description:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 28\n              }, this), \" \", request.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Submitted on:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 28\n              }, this), \" \", new Date(request.createdAt || request.timestamp || Date.now()).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 23\n            }, this), status === 'pending' && (request.remark || request.remarks || request.adminRemarks) && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#f8f9fa',\n                padding: '8px',\n                marginTop: '10px',\n                borderLeft: '3px solid #5bc0de',\n                fontSize: '0.9em'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Admin Remarks:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 27\n              }, this), \" \", request.remark || request.remarks || request.adminRemarks || 'No specific remarks provided']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 25\n            }, this), status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '10px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditRequest(request),\n                style: {\n                  padding: '6px 12px',\n                  background: '#5bc0de',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                },\n                children: \"Edit Request\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 25\n            }, this)]\n          }, request.id || request._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 21\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }, this), tab === 'create' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 500\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: editingRequest ? 'Edit Event Request' : 'Request New Event'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this), editingRequest && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#f8f9fa',\n          padding: '8px',\n          marginBottom: '15px',\n          borderLeft: '3px solid #5bc0de',\n          fontSize: '0.9em'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You are editing a pending event request. Make your changes and submit to send the updated request back to the admin for approval.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Note:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 18\n          }, this), \" After editing, the request will be marked as pending and will need to be re-examined by an administrator.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }, this), (editingRequest.remark || editingRequest.remarks || editingRequest.adminRemarks) && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Admin Remarks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 20\n          }, this), \" \", editingRequest.remark || editingRequest.remarks || editingRequest.adminRemarks]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Faculty ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"facultyId\",\n            value: form.facultyId,\n            readOnly: true,\n            style: {\n              width: '100%',\n              padding: 8,\n              background: '#f0f0f0',\n              cursor: 'not-allowed'\n            },\n            title: \"This value is automatically filled from your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), !form.facultyId && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'red',\n              fontSize: '0.8rem',\n              marginTop: '5px'\n            },\n            children: \"Faculty ID not found. Please logout and login again.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: form.title,\n            onChange: handleChange,\n            required: true,\n            style: {\n              width: '100%',\n              padding: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Event Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"date\",\n            value: form.date,\n            onChange: handleChange,\n            required: true,\n            style: {\n              width: '100%',\n              padding: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: form.description,\n            onChange: handleChange,\n            required: true,\n            style: {\n              width: '100%',\n              padding: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Venue:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"venue\",\n            value: form.venue,\n            onChange: handleChange,\n            required: true,\n            style: {\n              width: '100%',\n              padding: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: submitting,\n            style: {\n              padding: '10px 32px',\n              background: '#333',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 4,\n              fontWeight: 'bold',\n              cursor: submitting ? 'not-allowed' : 'pointer'\n            },\n            children: submitting ? 'Submitting...' : editingRequest ? 'Update Event Request' : 'Request Event'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this), editingRequest && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setEditingRequest(null);\n              setForm({\n                facultyId: form.facultyId,\n                title: '',\n                date: '',\n                description: '',\n                venue: ''\n              });\n              setSuccessMsg('');\n              setErrorMsg('');\n            },\n            style: {\n              padding: '10px 32px',\n              background: '#6c757d',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 4,\n              fontWeight: 'bold',\n              cursor: 'pointer'\n            },\n            children: \"Cancel Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }, this), successMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'green',\n          marginTop: 16\n        },\n        children: successMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 26\n      }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginTop: 16\n        },\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 9\n    }, this), tab === 'profile' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 600\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"My Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#f9f9f9',\n          borderRadius: '8px',\n          padding: '20px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '60px',\n              height: '60px',\n              borderRadius: '50%',\n              background: '#333',\n              color: 'white',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '24px',\n              marginRight: '15px'\n            },\n            children: (((_userInfo$name = userInfo.name) === null || _userInfo$name === void 0 ? void 0 : _userInfo$name.charAt(0)) || 'F').toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '0 0 5px 0'\n              },\n              children: userInfo.name || 'Faculty Member'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#333',\n                color: 'white',\n                padding: '2px 8px',\n                borderRadius: '4px',\n                fontSize: '12px',\n                display: 'inline-block'\n              },\n              children: \"Faculty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this), \" \", userInfo.email || 'No email provided']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Faculty ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this), \" \", userInfo.id || 'No ID found']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Position:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this), \" Faculty Member\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Account Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'green'\n            },\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          // Remove only faculty-specific data\n          localStorage.removeItem('user_faculty');\n\n          // Check if we have any other role credentials\n          const hasAdmin = localStorage.getItem('user_admin');\n          const hasStudent = localStorage.getItem('user_student');\n          if (hasAdmin) {\n            // Switch to admin role\n            const adminUser = JSON.parse(hasAdmin);\n            localStorage.setItem('user', JSON.stringify(adminUser));\n            localStorage.setItem('lastActiveRole', 'admin');\n            window.location.href = '/admin-dashboard';\n          } else if (hasStudent) {\n            // Switch to student role\n            const studentUser = JSON.parse(hasStudent);\n            localStorage.setItem('user', JSON.stringify(studentUser));\n            localStorage.setItem('lastActiveRole', 'student');\n            window.location.href = '/student-dashboard';\n          } else {\n            // No other roles, fully log out\n            localStorage.removeItem('user');\n            localStorage.removeItem('token');\n            localStorage.removeItem('lastActiveRole');\n            window.location.href = 'http://localhost:3000/';\n          }\n        },\n        style: {\n          padding: '10px 20px',\n          background: '#d9534f',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer',\n          fontWeight: 'bold'\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 5\n  }, this);\n}\n_s(FacultyDashboard, \"fwtvEf+hhtYdIuYQn8A3Cx/+8RY=\", false, function () {\n  return [useNavigate];\n});\n_c = FacultyDashboard;\nexport default FacultyDashboard;\nvar _c;\n$RefreshReg$(_c, \"FacultyDashboard\");","map":{"version":3,"names":["React","useState","useEffect","getEvents","requestEvent","getRequestedEvents","getEventsByFacultyId","updateEventRequest","useNavigate","jsxDEV","_jsxDEV","FacultyDashboard","_s","_userInfo$name","getUserInfo","facultyUser","JSON","parse","localStorage","getItem","Object","keys","length","id","_id","facultyId","name","email","role","user","error","console","userInfo","setUserInfo","e","alert","window","location","href","setItem","handleStorageChange","key","newValue","log","addEventListener","removeEventListener","navigate","tab","setTab","events","setEvents","loading","setLoading","form","setForm","title","date","description","venue","myRequestId","setMyRequestId","polling","setPolling","submitting","setSubmitting","successMsg","setSuccessMsg","errorMsg","setErrorMsg","myRequests","setMyRequests","requestsLoading","setRequestsLoading","editingRequest","setEditingRequest","prevForm","fetchEvents","res","approvedEvents","data","filter","event","status","toString","trim","toLowerCase","handleChange","target","value","handleEditRequest","request","event_date","handleSubmit","preventDefault","today","Date","selected","payload","requestId","_res$data","_res$data2","updatedRequests","err","interval","setInterval","_res$data3","req","find","r","eventsRes","clearInterval","fetchMyRequests","requestsWithRemarks","remark","remarks","adminRemarks","processedRequests","map","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","marginBottom","onClick","background","color","border","cursor","borderRadius","fontWeight","fontSize","time","statusColor","statusBg","statusText","justifyContent","alignItems","createdAt","timestamp","now","toLocaleString","marginTop","borderLeft","onSubmit","type","readOnly","width","onChange","required","disabled","boxShadow","height","marginRight","charAt","toUpperCase","removeItem","hasAdmin","hasStudent","adminUser","stringify","studentUser","_c","$RefreshReg$"],"sources":["C:/Users/Rohail/Desktop/3rd year project/college-event/frontend/src/pages/FacultyDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getEvents, requestEvent, getRequestedEvents, getEventsByFacultyId, updateEventRequest } from '../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nfunction FacultyDashboard() {\r\n  // Get faculty user info from localStorage\r\n  const getUserInfo = () => {\r\n    try {\r\n      // First try to get faculty-specific user data\r\n      const facultyUser = JSON.parse(localStorage.getItem('user_faculty') || '{}');\r\n      if (facultyUser && Object.keys(facultyUser).length > 0) {\r\n        return {\r\n          id: facultyUser.id || facultyUser._id || facultyUser.facultyId || '',\r\n          name: facultyUser.name || '',\r\n          email: facultyUser.email || '',\r\n          role: facultyUser.role || 'faculty'\r\n        };\r\n      }\r\n      \r\n      // Fall back to checking main user if active role is faculty\r\n      if (localStorage.getItem('lastActiveRole') === 'faculty') {\r\n        const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n        if (user && user.role === 'faculty') {\r\n          return {\r\n            id: user.id || user._id || user.facultyId || '',\r\n            name: user.name || '',\r\n            email: user.email || '',\r\n            role: user.role || ''\r\n          };\r\n        }\r\n      }\r\n      \r\n      return { id: '', name: '', email: '', role: 'faculty' };\r\n    } catch (error) {\r\n      console.error('Error parsing user data:', error);\r\n      return { id: '', name: '', email: '', role: 'faculty' };\r\n    }\r\n  };\r\n\r\n  const [userInfo, setUserInfo] = useState(getUserInfo());\r\n  \r\n  // Check if the user has faculty credentials\r\n  useEffect(() => {\r\n    // First check if we have faculty-specific credentials\r\n    let facultyUser = null;\r\n    try {\r\n      facultyUser = JSON.parse(localStorage.getItem('user_faculty') || 'null');\r\n    } catch (e) {\r\n      console.error('Error parsing faculty user data', e);\r\n    }\r\n    \r\n    // If not found, check the main user object\r\n    if (!facultyUser) {\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      if (user && user.role === 'faculty') {\r\n        facultyUser = user;\r\n      }\r\n    }\r\n    \r\n    // If still no faculty credentials, redirect to login\r\n    if (!facultyUser) {\r\n      alert('Access denied. Please login as faculty.');\r\n      window.location.href = 'http://localhost:3000/';\r\n      return;\r\n    }\r\n    \r\n    // Only set the current active role to faculty for this session\r\n    // Do NOT overwrite the main user object, just update the active role\r\n    localStorage.setItem('lastActiveRole', 'faculty');\r\n    \r\n    // Store a flag to indicate this dashboard is active\r\n    localStorage.setItem('active_dashboard', 'faculty');\r\n    \r\n    // Update userInfo state with the latest faculty data\r\n    setUserInfo(getUserInfo());\r\n    \r\n    // Add storage event listener to handle login changes in other tabs\r\n    const handleStorageChange = (e) => {\r\n      if (e.key === 'lastActiveRole' && e.newValue !== 'faculty') {\r\n        // Another dashboard has become active, but don't redirect\r\n        console.log('Active role changed in another tab');\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('storage', handleStorageChange);\r\n    \r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n  \r\n  const navigate = useNavigate();\r\n  const [tab, setTab] = useState('view');\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [form, setForm] = useState({ \r\n    facultyId: '', // Will be updated after userInfo is set\r\n    title: '', \r\n    date: '', \r\n    description: '', \r\n    venue: '' \r\n  });\r\n  const [myRequestId, setMyRequestId] = useState(null);\r\n  const [polling, setPolling] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [successMsg, setSuccessMsg] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [myRequests, setMyRequests] = useState([]);\r\n  const [requestsLoading, setRequestsLoading] = useState(true);\r\n  const [editingRequest, setEditingRequest] = useState(null);\r\n\r\n  // Update form when userInfo changes\r\n  useEffect(() => {\r\n    setForm(prevForm => ({\r\n      ...prevForm,\r\n      facultyId: userInfo.id\r\n    }));\r\n  }, [userInfo]);\r\n\r\n  // Fetch all events\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await getEvents();\r\n        // Filter to only show approved events\r\n        const approvedEvents = (res.data || []).filter(event => {\r\n          const status = (event.status || '').toString().trim().toLowerCase();\r\n          return status === 'approved';\r\n        });\r\n        setEvents(approvedEvents);\r\n      } catch {\r\n        setEvents([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  // Handle form input\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Handle edit request button click\r\n  const handleEditRequest = (request) => {\r\n    // Pre-fill form with the request data\r\n    setForm({\r\n      facultyId: form.facultyId, // Keep the current faculty ID\r\n      title: request.title || '',\r\n      date: request.date || request.event_date || '',\r\n      description: request.description || '',\r\n      venue: request.venue || '',\r\n    });\r\n    \r\n    // Store the request being edited\r\n    setEditingRequest(request);\r\n    \r\n    // Switch to create tab which has the form\r\n    setTab('create');\r\n  };\r\n\r\n  // Handle event request submit (API call)\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    setSuccessMsg('');\r\n    setErrorMsg('');\r\n    // Validation: only allow future dates\r\n    const today = new Date();\r\n    const selected = new Date(form.date);\r\n    if (selected <= today) {\r\n      setErrorMsg('Please select a future date for the event.');\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n    try {\r\n      const payload = { ...form };\r\n      let res;\r\n      \r\n      if (editingRequest) {\r\n        // Update an existing request\r\n        const requestId = editingRequest.id || editingRequest._id;\r\n        // Set status to pending to ensure it goes back to admin for review\r\n        payload.status = 'pending';\r\n        res = await updateEventRequest(requestId, payload);\r\n        setSuccessMsg('Event request updated and sent to admin for re-examination!');\r\n        // After update, clear the editing state\r\n        setEditingRequest(null);\r\n      } else {\r\n        // Send new request to admin with all details\r\n        res = await requestEvent(payload);\r\n        setSuccessMsg('Event request sent to admin for approval!');\r\n        setMyRequestId(res.data?.id || res.data?._id || null);\r\n        setPolling(true);\r\n      }\r\n      \r\n      // Keep the faculty ID when resetting the form\r\n      setForm({ \r\n        facultyId: form.facultyId, // Keep the faculty ID\r\n        title: '', \r\n        date: '', \r\n        description: '', \r\n        venue: '' \r\n      });\r\n      \r\n      // Refresh the requests list if we're updating\r\n      if (editingRequest) {\r\n        try {\r\n          const updatedRequests = await getEventsByFacultyId(form.facultyId);\r\n          setMyRequests(updatedRequests.data || []);\r\n        } catch (error) {\r\n          console.error('Failed to refresh requests after update', error);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Request error:', err);\r\n      setErrorMsg(editingRequest ? 'Failed to update event request.' : 'Failed to send event request.');\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  // Poll for approval of the latest request\r\n  useEffect(() => {\r\n    let interval;\r\n    if (polling && myRequestId) {\r\n      interval = setInterval(async () => {\r\n        try {\r\n          const res = await getRequestedEvents();\r\n          const req = res.data?.find(r => r.id === myRequestId || r._id === myRequestId);\r\n          if (req) {\r\n            const status = (req.status || '').toString().trim().toLowerCase();\r\n            console.log('Polling: myRequestId', myRequestId, 'found request:', req, 'status:', status);\r\n            if (status === 'approved' || status === 'Approved'.toLowerCase()) {\r\n              setSuccessMsg('Your event has been approved and is now live!');\r\n              setPolling(false);\r\n              // Optionally, refresh events list\r\n              const eventsRes = await getEvents();\r\n              setEvents(eventsRes.data || []);\r\n              window.alert('Your event request has been approved! The event is now public.');\r\n            }\r\n          }\r\n        } catch (err) {\r\n          // console.error('Polling error:', err);\r\n        }\r\n      }, 2000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [polling, myRequestId]);\r\n\r\n  // This section is intentionally removed as we no longer have a two-step process\r\n  \r\n  // Fetch requested events for this faculty\r\n  useEffect(() => {\r\n    const fetchMyRequests = async () => {\r\n      if (tab === 'requests') {\r\n        setRequestsLoading(true);\r\n        try {\r\n          // Simply use the facultyId from the form state, which is already initialized\r\n          // from localStorage when the component mounts\r\n          if (form.facultyId) {\r\n            // Use the dedicated API endpoint to get events by faculty ID\r\n            const res = await getEventsByFacultyId(form.facultyId);\r\n            console.log('Faculty events response:', res.data);\r\n            \r\n            // Debug: check if any requests have remarks\r\n            const requestsWithRemarks = (res.data || []).filter(req => \r\n              req.remark || req.remarks || req.adminRemarks\r\n            );\r\n            console.log('Requests with remarks:', requestsWithRemarks);\r\n            \r\n            // Store the data, ensuring remarks field is consistent\r\n            const processedRequests = (res.data || []).map(req => {\r\n              // Normalize the remarks field to ensure it's consistently available\r\n              if (req.adminRemarks && !req.remarks && !req.remark) {\r\n                req.remarks = req.adminRemarks;\r\n              }\r\n              return req;\r\n            });\r\n            \r\n            setMyRequests(processedRequests);\r\n          } else {\r\n            console.log('No faculty ID found to fetch requests');\r\n            setMyRequests([]);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching faculty events:', error);\r\n          setMyRequests([]);\r\n        }\r\n        setRequestsLoading(false);\r\n      }\r\n    };\r\n    fetchMyRequests();\r\n  }, [tab, form.facultyId]);\r\n\r\n  return (\r\n    <div style={{ padding: '2rem', maxWidth: 900, margin: 'auto' }}>\r\n      <h2>Faculty Dashboard</h2>\r\n      <div style={{ display: 'flex', gap: 16, marginBottom: 24 }}>\r\n        <button onClick={() => setTab('view')} style={{ background: tab === 'view' ? '#333' : '#eee', color: tab === 'view' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>View Upcoming Events</button>\r\n        <button onClick={() => setTab('requests')} style={{ background: tab === 'requests' ? '#333' : '#eee', color: tab === 'requests' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>My Requested Events</button>\r\n        <button onClick={() => setTab('create')} style={{ background: tab === 'create' ? '#333' : '#eee', color: tab === 'create' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>Request New Event</button>\r\n        <button onClick={() => setTab('profile')} style={{ background: tab === 'profile' ? '#333' : '#eee', color: tab === 'profile' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>My Profile</button>\r\n      </div>\r\n\r\n      {tab === 'view' && (\r\n        <div>\r\n          <h3>Upcoming Events</h3>\r\n          {loading ? <div>Loading events...</div> : (\r\n            events.length === 0 ? <div>No events found.</div> : (\r\n              <div>\r\n                {events.map(event => (\r\n                  <div key={event.id || event._id} style={{ border: '1px solid #ddd', borderRadius: 8, padding: 16, marginBottom: 16, background: '#fafafa' }}>\r\n                    <div style={{ fontWeight: 'bold', fontSize: 16 }}>{event.title || event.name}</div>\r\n                    <div>Date: {event.date || event.event_date} &nbsp; | &nbsp; Time: {event.time}</div>\r\n                    <div>Venue: {event.venue}</div>\r\n                    <div>Description: {event.description}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {tab === 'requests' && (\r\n        <div>\r\n          <h3>My Requested Events</h3>\r\n          {requestsLoading ? <div>Loading your requests...</div> : (\r\n            myRequests.length === 0 ? (\r\n              <div>\r\n                <p>No event requests found. Please ensure your Faculty ID is correct when submitting requests.</p>\r\n                <p style={{ fontSize: '0.9em', color: '#666' }}>\r\n                  Current Faculty ID: {\r\n                    (function() {\r\n                      const userInfo = JSON.parse(localStorage.getItem('user') || '{}');\r\n                      return form.facultyId || localStorage.getItem('facultyId') || userInfo.facultyId || userInfo.id || \"None found\";\r\n                    })()\r\n                  }\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {myRequests.map(request => {\r\n                  const status = (request.status || '').toString().trim().toLowerCase();\r\n                  let statusColor, statusBg, statusText;\r\n                  \r\n                  if (status === 'approved') {\r\n                    statusColor = '#5cb85c';  // Green\r\n                    statusBg = '#dff0d8';     // Light green\r\n                    statusText = 'Approved';\r\n                  } else if (status === 'rejected') {\r\n                    statusColor = '#d9534f';  // Red\r\n                    statusBg = '#f2dede';     // Light red\r\n                    statusText = 'Rejected';\r\n                  } else {\r\n                    statusColor = '#f0ad4e';  // Orange\r\n                    statusBg = '#fcf8e3';     // Light orange\r\n                    statusText = 'Pending';\r\n                  }\r\n                  \r\n                  return (\r\n                    <div key={request.id || request._id} style={{ \r\n                      border: `1px solid ${statusColor}`, \r\n                      borderRadius: 8, \r\n                      padding: 16, \r\n                      marginBottom: 16, \r\n                      background: statusBg\r\n                    }}>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>\r\n                        <div style={{ fontWeight: 'bold', fontSize: 18 }}>{request.title}</div>\r\n                        <div style={{ \r\n                          padding: '4px 10px', \r\n                          background: statusColor, \r\n                          color: 'white', \r\n                          borderRadius: '4px', \r\n                          fontWeight: 'bold' \r\n                        }}>{statusText}</div>\r\n                      </div>\r\n                      <div><b>Faculty ID:</b> {request.facultyId}</div>\r\n                      <div><b>Date:</b> {request.date || request.event_date}</div>\r\n                      <div><b>Venue:</b> {request.venue}</div>\r\n                      <div><b>Description:</b> {request.description}</div>\r\n                      <div><b>Submitted on:</b> {new Date(request.createdAt || request.timestamp || Date.now()).toLocaleString()}</div>\r\n                      \r\n                      {/* Show remarks if event is pending and has remarks */}\r\n                      {status === 'pending' && (request.remark || request.remarks || request.adminRemarks) && (\r\n                        <div style={{ \r\n                          background: '#f8f9fa', \r\n                          padding: '8px', \r\n                          marginTop: '10px',\r\n                          borderLeft: '3px solid #5bc0de',\r\n                          fontSize: '0.9em'\r\n                        }}>\r\n                          <b>Admin Remarks:</b> {request.remark || request.remarks || request.adminRemarks || 'No specific remarks provided'}\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {/* Edit button for pending events */}\r\n                      {status === 'pending' && (\r\n                        <div style={{ marginTop: '10px' }}>\r\n                          <button \r\n                            onClick={() => handleEditRequest(request)} \r\n                            style={{\r\n                              padding: '6px 12px',\r\n                              background: '#5bc0de',\r\n                              color: 'white',\r\n                              border: 'none',\r\n                              borderRadius: '4px',\r\n                              cursor: 'pointer'\r\n                            }}\r\n                          >\r\n                            Edit Request\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {tab === 'create' && (\r\n        <div style={{ maxWidth: 500 }}>\r\n          <h3>{editingRequest ? 'Edit Event Request' : 'Request New Event'}</h3>\r\n          {editingRequest && (\r\n            <div style={{ \r\n              background: '#f8f9fa', \r\n              padding: '8px', \r\n              marginBottom: '15px',\r\n              borderLeft: '3px solid #5bc0de',\r\n              fontSize: '0.9em'\r\n            }}>\r\n              <p>You are editing a pending event request. Make your changes and submit to send the updated request back to the admin for approval.</p>\r\n              <p><b>Note:</b> After editing, the request will be marked as pending and will need to be re-examined by an administrator.</p>\r\n              {(editingRequest.remark || editingRequest.remarks || editingRequest.adminRemarks) && (\r\n                <p><b>Admin Remarks:</b> {editingRequest.remark || editingRequest.remarks || editingRequest.adminRemarks}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n          <form onSubmit={handleSubmit}>\r\n            <div style={{ marginBottom: 12 }}>\r\n              <label>Faculty ID:</label><br />\r\n              <input \r\n                type=\"text\" \r\n                name=\"facultyId\" \r\n                value={form.facultyId} \r\n                readOnly \r\n                style={{ width: '100%', padding: 8, background: '#f0f0f0', cursor: 'not-allowed' }} \r\n                title=\"This value is automatically filled from your account\" \r\n              />\r\n              {!form.facultyId && (\r\n                <div style={{ color: 'red', fontSize: '0.8rem', marginTop: '5px' }}>\r\n                  Faculty ID not found. Please logout and login again.\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div style={{ marginBottom: 12 }}>\r\n              <label>Title:</label><br />\r\n              <input type=\"text\" name=\"title\" value={form.title} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n            </div>\r\n            <div style={{ marginBottom: 12 }}>\r\n              <label>Event Date:</label><br />\r\n              <input type=\"date\" name=\"date\" value={form.date} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n            </div>\r\n            <div style={{ marginBottom: 12 }}>\r\n              <label>Description:</label><br />\r\n              <textarea name=\"description\" value={form.description} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n            </div>\r\n            <div style={{ marginBottom: 12 }}>\r\n              <label>Venue:</label><br />\r\n              <input type=\"text\" name=\"venue\" value={form.venue} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n            </div>\r\n            <div style={{ display: 'flex', gap: '10px' }}>\r\n              <button type=\"submit\" disabled={submitting} style={{ padding: '10px 32px', background: '#333', color: '#fff', border: 'none', borderRadius: 4, fontWeight: 'bold', cursor: submitting ? 'not-allowed' : 'pointer' }}>\r\n                {submitting ? 'Submitting...' : editingRequest ? 'Update Event Request' : 'Request Event'}\r\n              </button>\r\n              \r\n              {editingRequest && (\r\n                <button \r\n                  type=\"button\" \r\n                  onClick={() => {\r\n                    setEditingRequest(null);\r\n                    setForm({ \r\n                      facultyId: form.facultyId,\r\n                      title: '', \r\n                      date: '', \r\n                      description: '', \r\n                      venue: '' \r\n                    });\r\n                    setSuccessMsg('');\r\n                    setErrorMsg('');\r\n                  }}\r\n                  style={{ \r\n                    padding: '10px 32px', \r\n                    background: '#6c757d', \r\n                    color: '#fff', \r\n                    border: 'none', \r\n                    borderRadius: 4, \r\n                    fontWeight: 'bold', \r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  Cancel Edit\r\n                </button>\r\n              )}\r\n            </div>\r\n          </form>\r\n          {successMsg && <div style={{ color: 'green', marginTop: 16 }}>{successMsg}</div>}\r\n          {errorMsg && <div style={{ color: 'red', marginTop: 16 }}>{errorMsg}</div>}\r\n        </div>\r\n      )}\r\n\r\n      {tab === 'profile' && (\r\n        <div style={{ maxWidth: 600 }}>\r\n          <h3>My Profile</h3>\r\n          <div style={{ \r\n            background: '#f9f9f9', \r\n            borderRadius: '8px', \r\n            padding: '20px', \r\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n            marginBottom: '20px' \r\n          }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', marginBottom: '15px' }}>\r\n              <div style={{ \r\n                width: '60px', \r\n                height: '60px', \r\n                borderRadius: '50%', \r\n                background: '#333', \r\n                color: 'white', \r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                justifyContent: 'center', \r\n                fontSize: '24px',\r\n                marginRight: '15px'\r\n              }}>\r\n                {(userInfo.name?.charAt(0) || 'F').toUpperCase()}\r\n              </div>\r\n              <div>\r\n                <h3 style={{ margin: '0 0 5px 0' }}>{userInfo.name || 'Faculty Member'}</h3>\r\n                <div style={{ \r\n                  background: '#333', \r\n                  color: 'white', \r\n                  padding: '2px 8px', \r\n                  borderRadius: '4px', \r\n                  fontSize: '12px', \r\n                  display: 'inline-block' \r\n                }}>\r\n                  Faculty\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <strong>Email:</strong> {userInfo.email || 'No email provided'}\r\n            </div>\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <strong>Faculty ID:</strong> {userInfo.id || 'No ID found'}\r\n            </div>\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <strong>Position:</strong> Faculty Member\r\n            </div>\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <strong>Account Status:</strong> <span style={{ color: 'green' }}>Active</span>\r\n            </div>\r\n          </div>\r\n\r\n          <button \r\n            onClick={() => {\r\n              // Remove only faculty-specific data\r\n              localStorage.removeItem('user_faculty');\r\n              \r\n              // Check if we have any other role credentials\r\n              const hasAdmin = localStorage.getItem('user_admin');\r\n              const hasStudent = localStorage.getItem('user_student');\r\n              \r\n              if (hasAdmin) {\r\n                // Switch to admin role\r\n                const adminUser = JSON.parse(hasAdmin);\r\n                localStorage.setItem('user', JSON.stringify(adminUser));\r\n                localStorage.setItem('lastActiveRole', 'admin');\r\n                window.location.href = '/admin-dashboard';\r\n              } else if (hasStudent) {\r\n                // Switch to student role\r\n                const studentUser = JSON.parse(hasStudent);\r\n                localStorage.setItem('user', JSON.stringify(studentUser));\r\n                localStorage.setItem('lastActiveRole', 'student');\r\n                window.location.href = '/student-dashboard';\r\n              } else {\r\n                // No other roles, fully log out\r\n                localStorage.removeItem('user');\r\n                localStorage.removeItem('token');\r\n                localStorage.removeItem('lastActiveRole');\r\n                window.location.href = 'http://localhost:3000/';\r\n              }\r\n            }}\r\n            style={{ \r\n              padding: '10px 20px', \r\n              background: '#d9534f', \r\n              color: 'white', \r\n              border: 'none', \r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              fontWeight: 'bold'\r\n            }}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FacultyDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
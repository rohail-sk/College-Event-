{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getEvents}from'../services/api';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function StudentDashboard(){let user={};try{user=JSON.parse(localStorage.getItem('user'))||{};}catch{user={};}const{name='',role='student',email='',department='Computer Science'}=user;const[upcomingEvents,setUpcomingEvents]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchData=async()=>{setLoading(true);try{const eventsRes=await getEvents();const events=eventsRes.data||[];// Sort events by date ascending\nconst sortedEvents=events.sort((a,b)=>new Date(a.date)-new Date(b.date));setUpcomingEvents(sortedEvents);}catch(err){setUpcomingEvents([]);}setLoading(false);};fetchData();},[]);const handleLogout=()=>{localStorage.removeItem('user');window.location.href='http://localhost:3000';};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',maxWidth:900,margin:'auto'},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",name||'Student',\" \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',marginBottom:24},children:[\"Role: \",role.charAt(0).toUpperCase()+role.slice(1)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"All Events\"}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading events...\"}):upcomingEvents.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"No events found.\"}):upcomingEvents.map(event=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #ddd',borderRadius:8,padding:16,marginBottom:16,background:'#f9f9f9'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:18,fontWeight:'bold',marginBottom:4},children:event.title}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:6},children:event.description||'No description provided.'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(event.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Venue:\"}),\" \",event.venue]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:event.status==='approved'?'green':'orange'},children:event.status})]})]},event.id))]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:40,borderTop:'1px solid #eee',paddingTop:24,maxWidth:400},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Profile\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name:\"}),\" \",name]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email:\"}),\" \",email]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Department:\"}),\" \",department]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{marginTop:32,padding:'10px 32px',background:'#d9534f',color:'#fff',border:'none',borderRadius:4,fontWeight:'bold',cursor:'pointer'},children:\"Logout\"})]});}export default StudentDashboard;","map":{"version":3,"names":["React","useState","useEffect","getEvents","jsxs","_jsxs","jsx","_jsx","StudentDashboard","user","JSON","parse","localStorage","getItem","name","role","email","department","upcomingEvents","setUpcomingEvents","loading","setLoading","fetchData","eventsRes","events","data","sortedEvents","sort","a","b","Date","date","err","handleLogout","removeItem","window","location","href","style","padding","maxWidth","margin","children","color","marginBottom","charAt","toUpperCase","slice","length","map","event","border","borderRadius","background","fontSize","fontWeight","title","description","toLocaleDateString","venue","status","id","marginTop","borderTop","paddingTop","onClick","cursor"],"sources":["C:/Users/Rohail/Desktop/3rd year project/college-event/frontend/src/pages/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getEvents } from '../services/api';\r\n\r\nfunction StudentDashboard() {\r\n  let user = {};\r\n  try {\r\n    user = JSON.parse(localStorage.getItem('user')) || {};\r\n  } catch {\r\n    user = {};\r\n  }\r\n\r\n  const { name = '', role = 'student', email = '', department = 'Computer Science' } = user;\r\n  const [upcomingEvents, setUpcomingEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const eventsRes = await getEvents();\r\n        const events = eventsRes.data || [];\r\n\r\n        // Sort events by date ascending\r\n        const sortedEvents = events.sort((a, b) => new Date(a.date) - new Date(b.date));\r\n\r\n        setUpcomingEvents(sortedEvents);\r\n      } catch (err) {\r\n        setUpcomingEvents([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    window.location.href = 'http://localhost:3000';\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '2rem', maxWidth: 900, margin: 'auto' }}>\r\n      <h2>Welcome, {name || 'Student'} ðŸ‘‹</h2>\r\n      <div style={{ color: '#888', marginBottom: 24 }}>\r\n        Role: {role.charAt(0).toUpperCase() + role.slice(1)}\r\n      </div>\r\n\r\n      {/* All Events */}\r\n      <div>\r\n        <h3>All Events</h3>\r\n        {loading ? (\r\n          <div>Loading events...</div>\r\n        ) : upcomingEvents.length === 0 ? (\r\n          <div>No events found.</div>\r\n        ) : (\r\n          upcomingEvents.map((event) => (\r\n            <div key={event.id} style={{ border: '1px solid #ddd', borderRadius: 8, padding: 16, marginBottom: 16, background: '#f9f9f9' }}>\r\n              <div style={{ fontSize: 18, fontWeight: 'bold', marginBottom: 4 }}>{event.title}</div>\r\n              <div style={{ marginBottom: 6 }}>{event.description || 'No description provided.'}</div>\r\n              <div><strong>Date:</strong> {new Date(event.date).toLocaleDateString()}</div>\r\n              <div><strong>Venue:</strong> {event.venue}</div>\r\n              <div><strong>Status:</strong> <span style={{ color: event.status === 'approved' ? 'green' : 'orange' }}>{event.status}</span></div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Profile */}\r\n      <div style={{ marginTop: 40, borderTop: '1px solid #eee', paddingTop: 24, maxWidth: 400 }}>\r\n        <h3>Profile</h3>\r\n        <div><b>Name:</b> {name}</div>\r\n        <div><b>Email:</b> {email}</div>\r\n        <div><b>Department:</b> {department}</div>\r\n      </div>\r\n\r\n      {/* Logout */}\r\n      <button\r\n        onClick={handleLogout}\r\n        style={{ marginTop: 32, padding: '10px 32px', background: '#d9534f', color: '#fff', border: 'none', borderRadius: 4, fontWeight: 'bold', cursor: 'pointer' }}\r\n      >\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudentDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
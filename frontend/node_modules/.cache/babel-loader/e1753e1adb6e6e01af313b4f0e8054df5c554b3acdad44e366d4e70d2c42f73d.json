{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rohail\\\\Desktop\\\\3rd year project\\\\college-event\\\\frontend\\\\src\\\\pages\\\\FacultyDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getEvents, requestEvent, getRequestedEvents, getEventsByFacultyId, editEventRequest, markRemarkAsNotified, cancelEvent, getEventRegistrations } from '../services/api';\n\n// Modal component for detailed event view\nconst Modal = ({\n  show,\n  onClose,\n  title,\n  children\n}) => {\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '8px',\n        width: '90%',\n        maxWidth: '600px',\n        maxHeight: '90vh',\n        overflowY: 'auto',\n        padding: '20px',\n        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0\n          },\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            background: 'transparent',\n            border: 'none',\n            fontSize: '20px',\n            cursor: 'pointer'\n          },\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n};\n_c = Modal;\nimport { useNavigate } from 'react-router-dom';\nimport { getCurrentUser, logout } from '../services/auth';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FacultyDashboard() {\n  _s();\n  var _userInfo$name;\n  // Get faculty user info using the centralized auth service\n  const getUserInfo = () => {\n    try {\n      const user = getCurrentUser();\n      if (!user) {\n        console.warn('No user data found');\n        return {\n          id: '',\n          name: '',\n          email: '',\n          role: ''\n        };\n      }\n\n      // Verify this is a faculty user\n      if (user.role === 'faculty') {\n        return {\n          id: user.id || user._id || user.facultyId || '',\n          name: user.name || '',\n          email: user.email || '',\n          role: 'faculty'\n        };\n      } else {\n        console.warn('User is not a faculty member:', user.role);\n        return {\n          id: '',\n          name: '',\n          email: '',\n          role: ''\n        };\n      }\n    } catch (error) {\n      console.error('Error parsing faculty user data:', error);\n      return {\n        id: '',\n        name: '',\n        email: '',\n        role: ''\n      };\n    }\n  };\n  const [userInfo, setUserInfo] = useState(getUserInfo());\n  const navigate = useNavigate();\n  const [tab, setTab] = useState('view');\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [form, setForm] = useState({\n    title: '',\n    date: '',\n    description: '',\n    venue: '',\n    info: ''\n  });\n\n  // State for registered students tab\n  const [facultyEvents, setFacultyEvents] = useState([]);\n  const [selectedEventId, setSelectedEventId] = useState(null);\n  const [registeredStudents, setRegisteredStudents] = useState([]);\n  const [loadingStudents, setLoadingStudents] = useState(false);\n\n  // Update form when userInfo changes to ensure we always use the current faculty ID\n  useEffect(() => {\n    if (userInfo.id) {\n      setForm(currentForm => ({\n        ...currentForm,\n        facultyId: userInfo.id\n      }));\n      console.log('Updated form with current faculty ID:', userInfo.id);\n    }\n  }, [userInfo.id]);\n  const [editingEvent, setEditingEvent] = useState(null); // Store the event being edited\n  const [myRequestId, setMyRequestId] = useState(null);\n  const [polling, setPolling] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [successMsg, setSuccessMsg] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n  const [myRequests, setMyRequests] = useState([]);\n  const [requestsLoading, setRequestsLoading] = useState(true);\n  const [isValidFaculty, setIsValidFaculty] = useState(true);\n  const [cancellingEventId, setCancellingEventId] = useState(null);\n  const [showEventDetailModal, setShowEventDetailModal] = useState(false);\n  const [currentEventObj, setCurrentEventObj] = useState(null);\n\n  // Check user role on component mount and prevent admin data leakage\n  useEffect(() => {\n    // Get the latest user info and set to state\n    const latest = getUserInfo();\n    setUserInfo(latest);\n\n    // Log the user info we found\n    console.log('FacultyDashboard - Current user info:', latest);\n\n    // If we have no faculty data at all, redirect to login\n    if (!latest.id) {\n      console.warn('No faculty data found, redirecting to login');\n      setIsValidFaculty(false);\n      navigate('/');\n      return;\n    }\n\n    // If we have a specific session ID, add it to the URL to make this page specific to this faculty\n    if (latest.sessionId && !window.location.search.includes('sessionId')) {\n      // Create a new URL with the session ID\n      const url = new URL(window.location.href);\n      url.searchParams.set('sessionId', latest.sessionId);\n\n      // Update browser history without reloading page\n      window.history.replaceState({}, '', url);\n      console.log('Added session ID to URL:', latest.sessionId);\n    }\n\n    // If not a refresh and user is not faculty, check if switching dashboards is needed\n    if (!latest.id || latest.role !== 'faculty') {\n      setIsValidFaculty(false);\n\n      // Check if we have admin data but not faculty data - this means we're likely\n      // trying to access faculty dashboard while logged in as admin\n      const sessionId = localStorage.getItem('currentSession');\n      let adminData = null;\n      if (sessionId) {\n        // First check session-based storage\n        const userData = JSON.parse(localStorage.getItem(`user_${sessionId}`) || 'null');\n        if (userData && userData.role === 'admin') {\n          adminData = userData;\n        }\n      }\n\n      // Fall back to legacy storage if needed\n      if (!adminData) {\n        adminData = JSON.parse(localStorage.getItem('user_admin') || 'null');\n      }\n      if (adminData && adminData.role === 'admin') {\n        // Only show the confirmation dialog if this isn't a page refresh\n        const confirmSwitch = window.confirm('You appear to be logged in as an admin but trying to access the Faculty dashboard. ' + 'Would you like to switch to the Admin dashboard instead?');\n        if (confirmSwitch) {\n          navigate('/admin-dashboard');\n          return;\n        }\n      }\n    } else {\n      setIsValidFaculty(true);\n      // Ensure form has the correct faculty ID\n      setForm(prev => ({\n        ...prev,\n        facultyId: latest.id\n      }));\n    }\n  }, [navigate]);\n\n  // Function to fetch all events created by this faculty\n  const fetchFacultyEvents = async () => {\n    if (!userInfo.id) return;\n    try {\n      setLoading(true);\n      const response = await getEventsByFacultyId(userInfo.id);\n      // Only show approved events\n      const approvedEvents = (response.data || []).filter(event => {\n        const status = (event.status || '').toString().trim().toLowerCase();\n        return status === 'approved';\n      });\n      setFacultyEvents(approvedEvents);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching faculty events:', error);\n      setFacultyEvents([]);\n      setLoading(false);\n    }\n  };\n\n  // Function to fetch students registered for a specific event\n  const fetchRegisteredStudents = async eventId => {\n    if (!eventId) return;\n    try {\n      setLoadingStudents(true);\n      setSelectedEventId(eventId);\n      const response = await getEventRegistrations(eventId);\n      setRegisteredStudents(response.data || []);\n      setLoadingStudents(false);\n    } catch (error) {\n      console.error('Error fetching registered students:', error);\n      setRegisteredStudents([]);\n      setLoadingStudents(false);\n    }\n  };\n\n  // Fetch all events\n  useEffect(() => {\n    const fetchEvents = async () => {\n      setLoading(true);\n      try {\n        const res = await getEvents();\n        // Filter to only show approved events - use case-insensitive comparison\n        const approvedEvents = (res.data || []).filter(event => {\n          const status = (event.status || '').toString().trim().toLowerCase();\n          return status === 'approved';\n        });\n        setEvents(approvedEvents);\n      } catch {\n        setEvents([]);\n      }\n      setLoading(false);\n    };\n    fetchEvents();\n  }, []);\n\n  // Fetch faculty events when registrations tab is selected\n  useEffect(() => {\n    if (tab === 'registrations') {\n      fetchFacultyEvents();\n      // Reset selected event and students\n      setSelectedEventId(null);\n      setRegisteredStudents([]);\n    }\n  }, [tab, userInfo.id]);\n\n  // Handle form input\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle cancelling an event\n  const handleCancelEvent = async eventId => {\n    // Confirm with the user\n    if (window.confirm('Are you sure you want to cancel this event?')) {\n      setCancellingEventId(eventId);\n      try {\n        await cancelEvent(eventId);\n        // Remove the event from the myRequests list\n        setMyRequests(prev => prev.filter(event => event.id !== eventId && event._id !== eventId));\n        alert('Event cancelled successfully');\n      } catch (error) {\n        console.error('Error cancelling event:', error);\n        alert('Failed to cancel event. Please try again.');\n      } finally {\n        setCancellingEventId(null);\n      }\n    }\n  };\n\n  // Handle event request submit (API call)\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    setSuccessMsg('');\n    setErrorMsg('');\n    // Validation: only allow future dates\n    const today = new Date();\n    const selected = new Date(form.date);\n    if (selected <= today) {\n      setErrorMsg('Please select a future date for the event.');\n      setSubmitting(false);\n      return;\n    }\n    try {\n      var _res$data, _res$data2;\n      // Ensure we always use the current user ID from our session\n      const currentUserInfo = getUserInfo();\n      let res;\n      if (editingEvent) {\n        // If we are editing an existing event request\n        const payload = {\n          ...form,\n          facultyId: currentUserInfo.id,\n          // Use current faculty ID\n          status: 'Pending' // Explicitly set status to Pending when editing an event\n        };\n        console.log('Editing event with faculty ID:', currentUserInfo.id);\n        res = await editEventRequest(editingEvent.id || editingEvent._id, payload);\n        setSuccessMsg('Event request updated and sent to admin for approval!');\n        setEditingEvent(null); // Clear the editing state\n      } else {\n        // If this is a new event request\n        const payload = {\n          ...form,\n          facultyId: currentUserInfo.id // Use current faculty ID\n        };\n        console.log('Creating event with faculty ID:', currentUserInfo.id);\n        res = await requestEvent(payload);\n        setSuccessMsg('Event request sent to admin for approval!');\n      }\n\n      // Keep the faculty ID when resetting the form\n      setForm({\n        facultyId: form.facultyId,\n        // Keep the faculty ID\n        title: '',\n        date: '',\n        description: '',\n        venue: '',\n        info: ''\n      });\n      setMyRequestId(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.id) || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2._id) || null);\n      setPolling(true);\n    } catch (err) {\n      setErrorMsg('Failed to send event request.');\n    }\n    setSubmitting(false);\n  };\n\n  // Poll for approval of the latest request and check for remarks\n  useEffect(() => {\n    let interval;\n    if (polling && myRequestId) {\n      interval = setInterval(async () => {\n        try {\n          var _res$data3;\n          const res = await getRequestedEvents();\n          const req = (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.find(r => r.id === myRequestId || r._id === myRequestId);\n          if (req) {\n            const status = (req.status || '').toString().trim().toLowerCase();\n            console.log('Polling: myRequestId', myRequestId, 'found request:', req, 'status:', status);\n\n            // Check for new remark - ONLY if it hasn't been notified yet\n            if (req.remark && req.remarkNotified === false) {\n              window.alert(`Admin has added remark to your event request: \"${req.remark}\"`);\n              try {\n                // Call API to mark the remark as notified on the server\n                await markRemarkAsNotified(myRequestId);\n\n                // Also update in local state\n                setMyRequests(prevRequests => prevRequests.map(r => r.id === myRequestId || r._id === myRequestId ? {\n                  ...r,\n                  remarkNotified: true\n                } : r));\n\n                // Update the polling request object to prevent repeat alerts in the current session\n                req.remarkNotified = true;\n\n                // Stop polling after showing the remark\n                setPolling(false);\n              } catch (error) {\n                console.error('Failed to mark remark as notified:', error);\n              }\n            }\n\n            // Check for approval\n            if (status === 'approved' || status === 'Approved'.toLowerCase()) {\n              setSuccessMsg('Your event has been approved and is now live!');\n              setPolling(false);\n              // Optionally, refresh events list\n              const eventsRes = await getEvents();\n              setEvents(eventsRes.data || []);\n\n              // Show appropriate alert based on whether there is a remark\n              if (req.remark) {\n                window.alert(`Your event request has been approved with remark: \"${req.remark}\". The event is now public.`);\n              } else {\n                window.alert('Your event request has been approved! The event is now public.');\n              }\n            }\n          }\n        } catch (err) {\n          // console.error('Polling error:', err);\n        }\n      }, 2000);\n    }\n    return () => clearInterval(interval);\n  }, [polling, myRequestId]);\n\n  // Fetch requested events for this faculty\n  useEffect(() => {\n    const fetchMyRequests = async () => {\n      if (tab === 'requests') {\n        setRequestsLoading(true);\n        try {\n          // Get the current user info to ensure we have the right faculty ID\n          const currentUserInfo = getUserInfo();\n          console.log('Fetching events for faculty with ID:', currentUserInfo.id);\n          console.log('Using session ID:', currentUserInfo.sessionId);\n\n          // Use the current user ID from session storage\n          if (currentUserInfo.id) {\n            // Add a cache-busting parameter to prevent browser caching\n            const timestamp = new Date().getTime();\n            const res = await getEventsByFacultyId(currentUserInfo.id, {\n              timestamp\n            });\n            console.log('Faculty events response for ID', currentUserInfo.id, ':', res.data);\n\n            // Check for unnotified remarks and mark them\n            const events = res.data || [];\n            for (const event of events) {\n              if (event.remark && !event.remarkNotified) {\n                try {\n                  // Mark remark as notified on the server\n                  await markRemarkAsNotified(event.id || event._id);\n                  // Update the event object\n                  event.remarkNotified = true;\n\n                  // Show notification for the remark\n                  window.alert(`Admin has added remark to your event request: \"${event.remark}\"`);\n                } catch (error) {\n                  console.error('Failed to mark remark as notified:', error);\n                }\n              }\n            }\n            setMyRequests(events);\n          } else {\n            console.log('No faculty ID found to fetch requests');\n            setMyRequests([]);\n          }\n        } catch (error) {\n          console.error('Error fetching faculty events:', error);\n          setMyRequests([]);\n        }\n        setRequestsLoading(false);\n      }\n    };\n    fetchMyRequests();\n  }, [tab, form.facultyId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem',\n      maxWidth: 900,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Faculty Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 7\n    }, this), !isValidFaculty ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        background: '#fff3cd',\n        border: '1px solid #ffeeba',\n        borderRadius: '8px',\n        marginBottom: '20px',\n        color: '#856404'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 10px 0'\n        },\n        children: \"Access Issue Detected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You are not currently logged in as faculty or your faculty data could not be found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Possible reasons:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"You may be logged in as admin but viewing the faculty dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Your session may have expired\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"There might be a role conflict in your browser storage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/auth'),\n          style: {\n            padding: '10px 20px',\n            background: '#333',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '4px',\n            marginRight: '10px',\n            cursor: 'pointer'\n          },\n          children: \"Log In Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            logout();\n            navigate('/auth');\n          },\n          style: {\n            padding: '10px 20px',\n            background: '#dc3545',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Clear All & Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 16,\n          marginBottom: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('view'),\n          style: {\n            background: tab === 'view' ? '#333' : '#eee',\n            color: tab === 'view' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"View Upcoming Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('requests'),\n          style: {\n            background: tab === 'requests' ? '#333' : '#eee',\n            color: tab === 'requests' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"My Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('create'),\n          style: {\n            background: tab === 'create' ? '#333' : '#eee',\n            color: tab === 'create' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"Request New Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('registrations'),\n          style: {\n            background: tab === 'registrations' ? '#333' : '#eee',\n            color: tab === 'registrations' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"Registered Students\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('profile'),\n          style: {\n            background: tab === 'profile' ? '#333' : '#eee',\n            color: tab === 'profile' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 11\n      }, this), tab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Upcoming Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 15\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading events...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 26\n        }, this) : events.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"No events found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 39\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: events.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: '1px solid #ddd',\n              borderRadius: 8,\n              padding: 16,\n              marginBottom: 16,\n              background: '#fafafa',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease'\n            },\n            onClick: () => {\n              setCurrentEventObj(event);\n              setShowEventDetailModal(true);\n            },\n            onMouseOver: e => {\n              e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';\n              e.currentTarget.style.transform = 'translateY(-2px)';\n            },\n            onMouseOut: e => {\n              e.currentTarget.style.boxShadow = 'none';\n              e.currentTarget.style.transform = 'translateY(0)';\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: event.title || event.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Date: \", event.date || event.event_date, \" \\xA0 | \\xA0 Time: \", event.time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Venue: \", event.venue]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Description: \", event.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8,\n                color: '#0275d8',\n                fontWeight: 'bold',\n                fontSize: 14\n              },\n              children: \"Click for more details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 25\n            }, this)]\n          }, event.id || event._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 23\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 13\n      }, this), tab === 'requests' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 15\n        }, this), requestsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading your requests...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 34\n        }, this) : myRequests.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No event requests found. Submit one in the Request New Event tab.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.85em',\n              color: '#666'\n            },\n            children: [\"Faculty ID in use: \", form.facultyId || userInfo.id || 'Not set']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: myRequests.map(request => {\n            const status = (request.status || '').toString().trim().toLowerCase();\n            let statusColor = '#999',\n              statusBg = '#eee',\n              statusText = status || 'pending';\n            if (status.toLowerCase() === 'approved') {\n              statusColor = '#2e7d32';\n              statusBg = '#e8f5e9';\n              statusText = 'Approved';\n            } else if (status === 'rejected') {\n              statusColor = '#c62828';\n              statusBg = '#ffebee';\n              statusText = 'Rejected';\n            } else if (status === 'pending') {\n              statusColor = '#f57c00';\n              statusBg = '#fff3e0';\n              statusText = 'Pending';\n            }\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '1px solid #ddd',\n                borderRadius: 8,\n                padding: 16,\n                marginBottom: 16,\n                background: '#fafafa'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  marginBottom: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: request.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    background: statusBg,\n                    color: statusColor,\n                    padding: '2px 8px',\n                    borderRadius: 12,\n                    fontSize: 12,\n                    textTransform: 'capitalize'\n                  },\n                  children: statusText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 14,\n                  marginBottom: 4\n                },\n                children: [\"Date: \", request.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 14,\n                  marginBottom: 4\n                },\n                children: [\"Venue: \", request.venue]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 14,\n                  marginBottom: 4\n                },\n                children: [\"Description: \", request.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 27\n              }, this), request.remark && status.toLowerCase() !== 'approved' && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 8,\n                  background: '#fffbe6',\n                  border: '1px solid #ffe58f',\n                  padding: 10,\n                  borderRadius: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Admin Remark:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 31\n                }, this), \" \", request.remark, status.toLowerCase() === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    marginLeft: 12,\n                    padding: '4px 12px',\n                    background: '#0275d8',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: 4,\n                    cursor: 'pointer',\n                    fontSize: 12\n                  },\n                  onClick: () => {\n                    // Set the editing event and pre-fill the form\n                    setEditingEvent(request);\n                    setTab('create');\n                    setForm({\n                      facultyId: request.facultyId || userInfo.id,\n                      title: request.title || '',\n                      date: request.date || '',\n                      description: request.description || '',\n                      venue: request.venue || '',\n                      info: request.info || ''\n                    });\n                  },\n                  children: \"Edit Event\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 12,\n                  display: 'flex',\n                  justifyContent: 'flex-end'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    padding: '4px 12px',\n                    background: '#d9534f',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: 4,\n                    cursor: 'pointer',\n                    fontSize: 12,\n                    opacity: cancellingEventId === (request.id || request._id) ? 0.7 : 1\n                  },\n                  onClick: () => handleCancelEvent(request.id || request._id),\n                  disabled: cancellingEventId === (request.id || request._id),\n                  children: cancellingEventId === (request.id || request._id) ? 'Cancelling...' : 'Cancel Event'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 27\n              }, this)]\n            }, request.id || request._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 25\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 13\n      }, this), tab === 'create' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 600\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: editingEvent ? 'Edit Event Request' : 'Request New Event'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          style: {\n            background: '#fafafa',\n            padding: 20,\n            border: '1px solid #ddd',\n            borderRadius: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Faculty ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"facultyId\",\n              value: form.facultyId || userInfo.id,\n              onChange: handleChange,\n              required: true,\n              readOnly: true,\n              style: {\n                width: '100%',\n                padding: 8,\n                background: '#eee'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              value: form.title,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Event Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"date\",\n              value: form.date,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              value: form.description,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              },\n              placeholder: \"Brief description of the event\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Venue:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"venue\",\n              value: form.venue,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Detailed Information:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 55\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"info\",\n              value: form.info,\n              onChange: handleChange,\n              style: {\n                width: '100%',\n                padding: 8,\n                minHeight: 150\n              },\n              placeholder: \"Provide detailed information about the event (schedule, speakers, requirements, etc.)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px'\n            },\n            children: [editingEvent && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setEditingEvent(null);\n                setForm({\n                  facultyId: userInfo.id,\n                  title: '',\n                  date: '',\n                  description: '',\n                  venue: '',\n                  info: ''\n                });\n              },\n              style: {\n                padding: '10px 20px',\n                background: '#ccc',\n                color: '#333',\n                border: 'none',\n                borderRadius: 4,\n                fontWeight: 'bold',\n                cursor: submitting ? 'not-allowed' : 'pointer'\n              },\n              disabled: submitting,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: submitting,\n              style: {\n                padding: '10px 32px',\n                background: '#333',\n                color: '#fff',\n                border: 'none',\n                borderRadius: 4,\n                fontWeight: 'bold',\n                cursor: submitting ? 'not-allowed' : 'pointer'\n              },\n              children: submitting ? editingEvent ? 'Updating...' : 'Requesting...' : editingEvent ? 'Update Request' : 'Submit Request'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 15\n        }, this), successMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'green',\n            marginTop: 16\n          },\n          children: successMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 30\n        }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red',\n            marginTop: 16\n          },\n          children: errorMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 13\n      }, this), tab === 'profile' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 600\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#f9f9f9',\n            borderRadius: 8,\n            padding: 20,\n            boxShadow: '0 2px 4px rgba(0,0,0,0.08)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: 60,\n                height: 60,\n                borderRadius: '50%',\n                background: '#333',\n                color: '#fff',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: 24,\n                marginRight: 16\n              },\n              children: (((_userInfo$name = userInfo.name) === null || _userInfo$name === void 0 ? void 0 : _userInfo$name.charAt(0)) || 'F').toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 18,\n                  fontWeight: 600\n                },\n                children: userInfo.name || 'Faculty Member'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: '#333',\n                  color: '#fff',\n                  padding: '2px 8px',\n                  fontSize: 12,\n                  borderRadius: 4,\n                  display: 'inline-block',\n                  marginTop: 4\n                },\n                children: \"Faculty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 50\n            }, this), \" \", userInfo.email || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Faculty ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 50\n            }, this), \" \", userInfo.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Account Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 51\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: 'green'\n              },\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              // Use the centralized logout function\n              logout();\n              window.location.href = 'http://localhost:3000/';\n            },\n            style: {\n              padding: '10px 20px',\n              background: '#d9534f',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 4,\n              cursor: 'pointer',\n              fontWeight: 'bold'\n            },\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showEventDetailModal,\n      onClose: () => setShowEventDetailModal(false),\n      title: \"Event Details\",\n      children: currentEventObj && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 16px 0'\n          },\n          children: currentEventObj.title || currentEventObj.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 15\n          }, this), \" \", currentEventObj.event_date || currentEventObj.date, currentEventObj.time && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" | \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 49\n            }, this), \" \", currentEventObj.time]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Venue:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 15\n          }, this), \" \", currentEventObj.venue]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '8px 0'\n            },\n            children: currentEventObj.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 13\n        }, this), currentEventObj.info && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Additional Information:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '8px 0',\n              whiteSpace: 'pre-wrap'\n            },\n            children: currentEventObj.info\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 15\n        }, this), currentEventObj.status && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 17\n          }, this), \" \", currentEventObj.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 15\n        }, this), currentEventObj.remark && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Remarks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '8px 0'\n            },\n            children: currentEventObj.remark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '24px',\n            textAlign: 'right'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: '8px 16px',\n              background: '#ddd',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            onClick: () => setShowEventDetailModal(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 460,\n    columnNumber: 5\n  }, this);\n}\n_s(FacultyDashboard, \"D/a9BBuAI6XBnedRDsRHL9CYbXE=\", false, function () {\n  return [useNavigate];\n});\n_c2 = FacultyDashboard;\nexport default FacultyDashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"FacultyDashboard\");","map":{"version":3,"names":["React","useState","useEffect","getEvents","requestEvent","getRequestedEvents","getEventsByFacultyId","editEventRequest","markRemarkAsNotified","cancelEvent","getEventRegistrations","Modal","show","onClose","title","children","_jsxDEV","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","borderRadius","width","maxWidth","maxHeight","overflowY","padding","boxShadow","marginBottom","margin","fileName","_jsxFileName","lineNumber","columnNumber","onClick","background","border","fontSize","cursor","_c","useNavigate","getCurrentUser","logout","jsxDEV","Fragment","_Fragment","FacultyDashboard","_s","_userInfo$name","getUserInfo","user","console","warn","id","name","email","role","_id","facultyId","error","userInfo","setUserInfo","navigate","tab","setTab","events","setEvents","loading","setLoading","form","setForm","date","description","venue","info","facultyEvents","setFacultyEvents","selectedEventId","setSelectedEventId","registeredStudents","setRegisteredStudents","loadingStudents","setLoadingStudents","currentForm","log","editingEvent","setEditingEvent","myRequestId","setMyRequestId","polling","setPolling","submitting","setSubmitting","successMsg","setSuccessMsg","errorMsg","setErrorMsg","myRequests","setMyRequests","requestsLoading","setRequestsLoading","isValidFaculty","setIsValidFaculty","cancellingEventId","setCancellingEventId","showEventDetailModal","setShowEventDetailModal","currentEventObj","setCurrentEventObj","latest","sessionId","window","location","search","includes","url","URL","href","searchParams","set","history","replaceState","localStorage","getItem","adminData","userData","JSON","parse","confirmSwitch","confirm","prev","fetchFacultyEvents","response","approvedEvents","data","filter","event","status","toString","trim","toLowerCase","fetchRegisteredStudents","eventId","fetchEvents","res","handleChange","e","target","value","handleCancelEvent","alert","handleSubmit","preventDefault","today","Date","selected","_res$data","_res$data2","currentUserInfo","payload","err","interval","setInterval","_res$data3","req","find","r","remark","remarkNotified","prevRequests","map","eventsRes","clearInterval","fetchMyRequests","timestamp","getTime","color","marginTop","marginRight","gap","length","transition","onMouseOver","currentTarget","transform","onMouseOut","fontWeight","event_date","time","request","statusColor","statusBg","statusText","textTransform","marginLeft","opacity","disabled","onSubmit","type","onChange","required","readOnly","placeholder","minHeight","height","charAt","toUpperCase","whiteSpace","textAlign","_c2","$RefreshReg$"],"sources":["C:/Users/Rohail/Desktop/3rd year project/college-event/frontend/src/pages/FacultyDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getEvents, requestEvent, getRequestedEvents, getEventsByFacultyId, editEventRequest, markRemarkAsNotified, cancelEvent, getEventRegistrations } from '../services/api';\r\n\r\n// Modal component for detailed event view\r\nconst Modal = ({ show, onClose, title, children }) => {\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 1000\r\n    }}>\r\n      <div style={{\r\n        backgroundColor: 'white',\r\n        borderRadius: '8px',\r\n        width: '90%',\r\n        maxWidth: '600px',\r\n        maxHeight: '90vh',\r\n        overflowY: 'auto',\r\n        padding: '20px',\r\n        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)'\r\n      }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\r\n          <h3 style={{ margin: 0 }}>{title}</h3>\r\n          <button \r\n            onClick={onClose}\r\n            style={{\r\n              background: 'transparent',\r\n              border: 'none',\r\n              fontSize: '20px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            ✖\r\n          </button>\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getCurrentUser, logout } from '../services/auth';\r\n\r\nfunction FacultyDashboard() {\r\n  // Get faculty user info using the centralized auth service\r\n  const getUserInfo = () => {\r\n    try {\r\n      const user = getCurrentUser();\r\n      \r\n      if (!user) {\r\n        console.warn('No user data found');\r\n        return { id: '', name: '', email: '', role: '' };\r\n      }\r\n      \r\n      // Verify this is a faculty user\r\n      if (user.role === 'faculty') {\r\n        return {\r\n          id: user.id || user._id || user.facultyId || '',\r\n          name: user.name || '',\r\n          email: user.email || '',\r\n          role: 'faculty'\r\n        };\r\n      } else {\r\n        console.warn('User is not a faculty member:', user.role);\r\n        return { id: '', name: '', email: '', role: '' };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error parsing faculty user data:', error);\r\n      return { id: '', name: '', email: '', role: '' };\r\n    }\r\n  };\r\n\r\n  const [userInfo, setUserInfo] = useState(getUserInfo());\r\n  \r\n  const navigate = useNavigate();\r\n  const [tab, setTab] = useState('view');\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [form, setForm] = useState({ \r\n    title: '', \r\n    date: '', \r\n    description: '', \r\n    venue: '',\r\n    info: '' \r\n  });\r\n  \r\n  // State for registered students tab\r\n  const [facultyEvents, setFacultyEvents] = useState([]);\r\n  const [selectedEventId, setSelectedEventId] = useState(null);\r\n  const [registeredStudents, setRegisteredStudents] = useState([]);\r\n  const [loadingStudents, setLoadingStudents] = useState(false);\r\n  \r\n  // Update form when userInfo changes to ensure we always use the current faculty ID\r\n  useEffect(() => {\r\n    if (userInfo.id) {\r\n      setForm(currentForm => ({\r\n        ...currentForm,\r\n        facultyId: userInfo.id\r\n      }));\r\n      console.log('Updated form with current faculty ID:', userInfo.id);\r\n    }\r\n  }, [userInfo.id]);\r\n  const [editingEvent, setEditingEvent] = useState(null); // Store the event being edited\r\n  const [myRequestId, setMyRequestId] = useState(null);\r\n  const [polling, setPolling] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [successMsg, setSuccessMsg] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [myRequests, setMyRequests] = useState([]);\r\n  const [requestsLoading, setRequestsLoading] = useState(true);\r\n  const [isValidFaculty, setIsValidFaculty] = useState(true);\r\n  const [cancellingEventId, setCancellingEventId] = useState(null);\r\n  const [showEventDetailModal, setShowEventDetailModal] = useState(false);\r\n  const [currentEventObj, setCurrentEventObj] = useState(null);\r\n  \r\n  // Check user role on component mount and prevent admin data leakage\r\n  useEffect(() => {\r\n    // Get the latest user info and set to state\r\n    const latest = getUserInfo();\r\n    setUserInfo(latest);\r\n    \r\n    // Log the user info we found\r\n    console.log('FacultyDashboard - Current user info:', latest);\r\n    \r\n    // If we have no faculty data at all, redirect to login\r\n    if (!latest.id) {\r\n      console.warn('No faculty data found, redirecting to login');\r\n      setIsValidFaculty(false);\r\n      navigate('/');\r\n      return;\r\n    }\r\n    \r\n    // If we have a specific session ID, add it to the URL to make this page specific to this faculty\r\n    if (latest.sessionId && !window.location.search.includes('sessionId')) {\r\n      // Create a new URL with the session ID\r\n      const url = new URL(window.location.href);\r\n      url.searchParams.set('sessionId', latest.sessionId);\r\n      \r\n      // Update browser history without reloading page\r\n      window.history.replaceState({}, '', url);\r\n      console.log('Added session ID to URL:', latest.sessionId);\r\n    }\r\n    \r\n    // If not a refresh and user is not faculty, check if switching dashboards is needed\r\n    if (!latest.id || latest.role !== 'faculty') {\r\n      setIsValidFaculty(false);\r\n      \r\n      // Check if we have admin data but not faculty data - this means we're likely\r\n      // trying to access faculty dashboard while logged in as admin\r\n      const sessionId = localStorage.getItem('currentSession');\r\n      let adminData = null;\r\n      \r\n      if (sessionId) {\r\n        // First check session-based storage\r\n        const userData = JSON.parse(localStorage.getItem(`user_${sessionId}`) || 'null');\r\n        if (userData && userData.role === 'admin') {\r\n          adminData = userData;\r\n        }\r\n      }\r\n      \r\n      // Fall back to legacy storage if needed\r\n      if (!adminData) {\r\n        adminData = JSON.parse(localStorage.getItem('user_admin') || 'null');\r\n      }\r\n      \r\n      if (adminData && adminData.role === 'admin') {\r\n        // Only show the confirmation dialog if this isn't a page refresh\r\n        const confirmSwitch = window.confirm(\r\n          'You appear to be logged in as an admin but trying to access the Faculty dashboard. ' +\r\n          'Would you like to switch to the Admin dashboard instead?'\r\n        );\r\n        if (confirmSwitch) {\r\n          navigate('/admin-dashboard');\r\n          return;\r\n        }\r\n      }\r\n    } else {\r\n      setIsValidFaculty(true);\r\n      // Ensure form has the correct faculty ID\r\n      setForm(prev => ({...prev, facultyId: latest.id}));\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Function to fetch all events created by this faculty\r\n  const fetchFacultyEvents = async () => {\r\n    if (!userInfo.id) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      const response = await getEventsByFacultyId(userInfo.id);\r\n      // Only show approved events\r\n      const approvedEvents = (response.data || []).filter(event => {\r\n        const status = (event.status || '').toString().trim().toLowerCase();\r\n        return status === 'approved';\r\n      });\r\n      setFacultyEvents(approvedEvents);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching faculty events:', error);\r\n      setFacultyEvents([]);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Function to fetch students registered for a specific event\r\n  const fetchRegisteredStudents = async (eventId) => {\r\n    if (!eventId) return;\r\n    \r\n    try {\r\n      setLoadingStudents(true);\r\n      setSelectedEventId(eventId);\r\n      const response = await getEventRegistrations(eventId);\r\n      setRegisteredStudents(response.data || []);\r\n      setLoadingStudents(false);\r\n    } catch (error) {\r\n      console.error('Error fetching registered students:', error);\r\n      setRegisteredStudents([]);\r\n      setLoadingStudents(false);\r\n    }\r\n  };\r\n\r\n  // Fetch all events\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await getEvents();\r\n        // Filter to only show approved events - use case-insensitive comparison\r\n        const approvedEvents = (res.data || []).filter(event => {\r\n          const status = (event.status || '').toString().trim().toLowerCase();\r\n          return status === 'approved';\r\n        });\r\n        setEvents(approvedEvents);\r\n      } catch {\r\n        setEvents([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchEvents();\r\n  }, []);\r\n  \r\n  // Fetch faculty events when registrations tab is selected\r\n  useEffect(() => {\r\n    if (tab === 'registrations') {\r\n      fetchFacultyEvents();\r\n      // Reset selected event and students\r\n      setSelectedEventId(null);\r\n      setRegisteredStudents([]);\r\n    }\r\n  }, [tab, userInfo.id]);\r\n\r\n  // Handle form input\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Handle cancelling an event\r\n  const handleCancelEvent = async (eventId) => {\r\n    // Confirm with the user\r\n    if (window.confirm('Are you sure you want to cancel this event?')) {\r\n      setCancellingEventId(eventId);\r\n      try {\r\n        await cancelEvent(eventId);\r\n        // Remove the event from the myRequests list\r\n        setMyRequests(prev => prev.filter(event => (event.id !== eventId && event._id !== eventId)));\r\n        alert('Event cancelled successfully');\r\n      } catch (error) {\r\n        console.error('Error cancelling event:', error);\r\n        alert('Failed to cancel event. Please try again.');\r\n      } finally {\r\n        setCancellingEventId(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle event request submit (API call)\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    setSuccessMsg('');\r\n    setErrorMsg('');\r\n    // Validation: only allow future dates\r\n    const today = new Date();\r\n    const selected = new Date(form.date);\r\n    if (selected <= today) {\r\n      setErrorMsg('Please select a future date for the event.');\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Ensure we always use the current user ID from our session\r\n      const currentUserInfo = getUserInfo();\r\n      \r\n      let res;\r\n      \r\n      if (editingEvent) {\r\n        // If we are editing an existing event request\r\n        const payload = { \r\n          ...form,\r\n          facultyId: currentUserInfo.id, // Use current faculty ID\r\n          status: 'Pending' // Explicitly set status to Pending when editing an event\r\n        };\r\n        console.log('Editing event with faculty ID:', currentUserInfo.id);\r\n        res = await editEventRequest(editingEvent.id || editingEvent._id, payload);\r\n        setSuccessMsg('Event request updated and sent to admin for approval!');\r\n        setEditingEvent(null); // Clear the editing state\r\n      } else {\r\n        // If this is a new event request\r\n        const payload = { \r\n          ...form,\r\n          facultyId: currentUserInfo.id // Use current faculty ID\r\n        };\r\n        console.log('Creating event with faculty ID:', currentUserInfo.id);\r\n        res = await requestEvent(payload);\r\n        setSuccessMsg('Event request sent to admin for approval!');\r\n      }\r\n      \r\n      // Keep the faculty ID when resetting the form\r\n      setForm({ \r\n        facultyId: form.facultyId, // Keep the faculty ID\r\n        title: '', \r\n        date: '', \r\n        description: '', \r\n        venue: '',\r\n        info: '' \r\n      });\r\n      setMyRequestId(res.data?.id || res.data?._id || null);\r\n      setPolling(true);\r\n    } catch (err) {\r\n      setErrorMsg('Failed to send event request.');\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  // Poll for approval of the latest request and check for remarks\r\n  useEffect(() => {\r\n    let interval;\r\n    if (polling && myRequestId) {\r\n      interval = setInterval(async () => {\r\n        try {\r\n          const res = await getRequestedEvents();\r\n          const req = res.data?.find(r => r.id === myRequestId || r._id === myRequestId);\r\n          if (req) {\r\n            const status = (req.status || '').toString().trim().toLowerCase();\r\n            console.log('Polling: myRequestId', myRequestId, 'found request:', req, 'status:', status);\r\n            \r\n            // Check for new remark - ONLY if it hasn't been notified yet\r\n            if (req.remark && req.remarkNotified === false) {\r\n              window.alert(`Admin has added remark to your event request: \"${req.remark}\"`);\r\n              \r\n              try {\r\n                // Call API to mark the remark as notified on the server\r\n                await markRemarkAsNotified(myRequestId);\r\n                \r\n                // Also update in local state\r\n                setMyRequests(prevRequests => \r\n                  prevRequests.map(r => \r\n                    (r.id === myRequestId || r._id === myRequestId) \r\n                      ? { ...r, remarkNotified: true } \r\n                      : r\r\n                  )\r\n                );\r\n                \r\n                // Update the polling request object to prevent repeat alerts in the current session\r\n                req.remarkNotified = true;\r\n                \r\n                // Stop polling after showing the remark\r\n                setPolling(false);\r\n              } catch (error) {\r\n                console.error('Failed to mark remark as notified:', error);\r\n              }\r\n            }\r\n            \r\n            // Check for approval\r\n            if (status === 'approved' || status === 'Approved'.toLowerCase()) {\r\n              setSuccessMsg('Your event has been approved and is now live!');\r\n              setPolling(false);\r\n              // Optionally, refresh events list\r\n              const eventsRes = await getEvents();\r\n              setEvents(eventsRes.data || []);\r\n              \r\n              // Show appropriate alert based on whether there is a remark\r\n              if (req.remark) {\r\n                window.alert(`Your event request has been approved with remark: \"${req.remark}\". The event is now public.`);\r\n              } else {\r\n                window.alert('Your event request has been approved! The event is now public.');\r\n              }\r\n            }\r\n          }\r\n        } catch (err) {\r\n          // console.error('Polling error:', err);\r\n        }\r\n      }, 2000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [polling, myRequestId]);\r\n  \r\n  // Fetch requested events for this faculty\r\n  useEffect(() => {\r\n    const fetchMyRequests = async () => {\r\n      if (tab === 'requests') {\r\n        setRequestsLoading(true);\r\n        try {\r\n          // Get the current user info to ensure we have the right faculty ID\r\n          const currentUserInfo = getUserInfo();\r\n          console.log('Fetching events for faculty with ID:', currentUserInfo.id);\r\n          console.log('Using session ID:', currentUserInfo.sessionId);\r\n          \r\n          // Use the current user ID from session storage\r\n          if (currentUserInfo.id) {\r\n            // Add a cache-busting parameter to prevent browser caching\r\n            const timestamp = new Date().getTime();\r\n            const res = await getEventsByFacultyId(currentUserInfo.id, { timestamp });\r\n            console.log('Faculty events response for ID', currentUserInfo.id, ':', res.data);\r\n            \r\n            // Check for unnotified remarks and mark them\r\n            const events = res.data || [];\r\n            for (const event of events) {\r\n              if (event.remark && !event.remarkNotified) {\r\n                try {\r\n                  // Mark remark as notified on the server\r\n                  await markRemarkAsNotified(event.id || event._id);\r\n                  // Update the event object\r\n                  event.remarkNotified = true;\r\n                  \r\n                  // Show notification for the remark\r\n                  window.alert(`Admin has added remark to your event request: \"${event.remark}\"`);\r\n                } catch (error) {\r\n                  console.error('Failed to mark remark as notified:', error);\r\n                }\r\n              }\r\n            }\r\n            \r\n            setMyRequests(events);\r\n          } else {\r\n            console.log('No faculty ID found to fetch requests');\r\n            setMyRequests([]);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching faculty events:', error);\r\n          setMyRequests([]);\r\n        }\r\n        setRequestsLoading(false);\r\n      }\r\n    };\r\n    fetchMyRequests();\r\n  }, [tab, form.facultyId]);\r\n\r\n  return (\r\n    <div style={{ padding: '2rem', maxWidth: 900, margin: 'auto' }}>\r\n      <h2>Faculty Dashboard</h2>\r\n      \r\n      {!isValidFaculty ? (\r\n        <div style={{ padding: '20px', background: '#fff3cd', border: '1px solid #ffeeba', borderRadius: '8px', marginBottom: '20px', color: '#856404' }}>\r\n          <h4 style={{ margin: '0 0 10px 0' }}>Access Issue Detected</h4>\r\n          <p>You are not currently logged in as faculty or your faculty data could not be found.</p>\r\n          <p>Possible reasons:</p>\r\n          <ul>\r\n            <li>You may be logged in as admin but viewing the faculty dashboard</li>\r\n            <li>Your session may have expired</li>\r\n            <li>There might be a role conflict in your browser storage</li>\r\n          </ul>\r\n          <div style={{ marginTop: '15px' }}>\r\n            <button \r\n              onClick={() => navigate('/auth')}\r\n              style={{ padding: '10px 20px', background: '#333', color: '#fff', border: 'none', borderRadius: '4px', marginRight: '10px', cursor: 'pointer' }}\r\n            >\r\n              Log In Again\r\n            </button>\r\n            <button \r\n              onClick={() => {\r\n                logout();\r\n                navigate('/auth');\r\n              }}\r\n              style={{ padding: '10px 20px', background: '#dc3545', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n            >\r\n              Clear All & Log Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div style={{ display: 'flex', gap: 16, marginBottom: 24 }}>\r\n            <button onClick={() => setTab('view')} style={{ background: tab === 'view' ? '#333' : '#eee', color: tab === 'view' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>View Upcoming Events</button>\r\n            <button onClick={() => setTab('requests')} style={{ background: tab === 'requests' ? '#333' : '#eee', color: tab === 'requests' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>My Events</button>\r\n            <button onClick={() => setTab('create')} style={{ background: tab === 'create' ? '#333' : '#eee', color: tab === 'create' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>Request New Event</button>\r\n            <button onClick={() => setTab('registrations')} style={{ background: tab === 'registrations' ? '#333' : '#eee', color: tab === 'registrations' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>Registered Students</button>\r\n            <button onClick={() => setTab('profile')} style={{ background: tab === 'profile' ? '#333' : '#eee', color: tab === 'profile' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>My Profile</button>\r\n          </div>\r\n\r\n          {tab === 'view' && (\r\n            <div>\r\n              <h3>Upcoming Events</h3>\r\n              {loading ? <div>Loading events...</div> : (\r\n                events.length === 0 ? <div>No events found.</div> : (\r\n                  <div>\r\n                    {events.map(event => (\r\n                      <div \r\n                        key={event.id || event._id} \r\n                        style={{ \r\n                          border: '1px solid #ddd', \r\n                          borderRadius: 8, \r\n                          padding: 16, \r\n                          marginBottom: 16, \r\n                          background: '#fafafa',\r\n                          cursor: 'pointer',\r\n                          transition: 'all 0.2s ease'\r\n                        }}\r\n                        onClick={() => {\r\n                          setCurrentEventObj(event);\r\n                          setShowEventDetailModal(true);\r\n                        }}\r\n                        onMouseOver={(e) => {\r\n                          e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';\r\n                          e.currentTarget.style.transform = 'translateY(-2px)';\r\n                        }}\r\n                        onMouseOut={(e) => {\r\n                          e.currentTarget.style.boxShadow = 'none';\r\n                          e.currentTarget.style.transform = 'translateY(0)';\r\n                        }}\r\n                      >\r\n                        <div style={{ fontWeight: 'bold', fontSize: 16 }}>{event.title || event.name}</div>\r\n                        <div>Date: {event.date || event.event_date} &nbsp; | &nbsp; Time: {event.time}</div>\r\n                        <div>Venue: {event.venue}</div>\r\n                        <div>Description: {event.description}</div>\r\n                        <div style={{ \r\n                          marginTop: 8, \r\n                          color: '#0275d8', \r\n                          fontWeight: 'bold', \r\n                          fontSize: 14 \r\n                        }}>Click for more details</div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {tab === 'requests' && (\r\n            <div>\r\n              <h3>My Events</h3>\r\n              {requestsLoading ? <div>Loading your requests...</div> : (\r\n                myRequests.length === 0 ? (\r\n                  <div>\r\n                    <p>No event requests found. Submit one in the Request New Event tab.</p>\r\n                    <p style={{ fontSize: '0.85em', color: '#666' }}>Faculty ID in use: {form.facultyId || userInfo.id || 'Not set'}</p>\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    {myRequests.map(request => {\r\n                      const status = (request.status || '').toString().trim().toLowerCase();\r\n                      let statusColor = '#999', statusBg = '#eee', statusText = status || 'pending';\r\n                      if (status.toLowerCase() === 'approved') { statusColor = '#2e7d32'; statusBg = '#e8f5e9'; statusText = 'Approved'; }\r\n                      else if (status === 'rejected') { statusColor = '#c62828'; statusBg = '#ffebee'; statusText = 'Rejected'; }\r\n                      else if (status === 'pending') { statusColor = '#f57c00'; statusBg = '#fff3e0'; statusText = 'Pending'; }\r\n                      return (\r\n                        <div key={request.id || request._id} style={{ border: '1px solid #ddd', borderRadius: 8, padding: 16, marginBottom: 16, background: '#fafafa' }}>\r\n                          <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                            <strong>{request.title}</strong>\r\n                            <span style={{ background: statusBg, color: statusColor, padding: '2px 8px', borderRadius: 12, fontSize: 12, textTransform: 'capitalize' }}>{statusText}</span>\r\n                          </div>\r\n                          <div style={{ fontSize: 14, marginBottom: 4 }}>Date: {request.date}</div>\r\n                          <div style={{ fontSize: 14, marginBottom: 4 }}>Venue: {request.venue}</div>\r\n                          <div style={{ fontSize: 14, marginBottom: 4 }}>Description: {request.description}</div>\r\n                          {/* Show remark only when status is pending */}\r\n                          {request.remark && status.toLowerCase() !== 'approved' && (\r\n                            <div style={{ marginTop: 8, background: '#fffbe6', border: '1px solid #ffe58f', padding: 10, borderRadius: 6 }}>\r\n                              <strong>Admin Remark:</strong> {request.remark}\r\n                              {/* Show edit button only when status is pending */}\r\n                              {status.toLowerCase() === 'pending' && (\r\n                                <button\r\n                                  style={{ marginLeft: 12, padding: '4px 12px', background: '#0275d8', color: '#fff', border: 'none', borderRadius: 4, cursor: 'pointer', fontSize: 12 }}\r\n                                  onClick={() => {\r\n                                    // Set the editing event and pre-fill the form\r\n                                    setEditingEvent(request);\r\n                                    setTab('create');\r\n                                    setForm({\r\n                                      facultyId: request.facultyId || userInfo.id,\r\n                                      title: request.title || '',\r\n                                      date: request.date || '',\r\n                                      description: request.description || '',\r\n                                      venue: request.venue || '',\r\n                                      info: request.info || ''\r\n                                    });\r\n                                  }}\r\n                                >\r\n                                  Edit Event\r\n                                </button>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                          \r\n                          {/* Actions row */}\r\n                          <div style={{ marginTop: 12, display: 'flex', justifyContent: 'flex-end' }}>\r\n                            <button\r\n                              style={{ \r\n                                padding: '4px 12px', \r\n                                background: '#d9534f', \r\n                                color: '#fff', \r\n                                border: 'none', \r\n                                borderRadius: 4, \r\n                                cursor: 'pointer', \r\n                                fontSize: 12,\r\n                                opacity: cancellingEventId === (request.id || request._id) ? 0.7 : 1\r\n                              }}\r\n                              onClick={() => handleCancelEvent(request.id || request._id)}\r\n                              disabled={cancellingEventId === (request.id || request._id)}\r\n                            >\r\n                              {cancellingEventId === (request.id || request._id) ? 'Cancelling...' : 'Cancel Event'}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {tab === 'create' && (\r\n            <div style={{ maxWidth: 600 }}>\r\n              <h3>{editingEvent ? 'Edit Event Request' : 'Request New Event'}</h3>\r\n              <form onSubmit={handleSubmit} style={{ background: '#fafafa', padding: 20, border: '1px solid #ddd', borderRadius: 8 }}>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Faculty ID:</label><br />\r\n                  <input type=\"text\" name=\"facultyId\" value={form.facultyId || userInfo.id} onChange={handleChange} required readOnly style={{ width: '100%', padding: 8, background: '#eee' }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Title:</label><br />\r\n                  <input type=\"text\" name=\"title\" value={form.title} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Event Date:</label><br />\r\n                  <input type=\"date\" name=\"date\" value={form.date} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Description:</label><br />\r\n                  <textarea \r\n                    name=\"description\" \r\n                    value={form.description} \r\n                    onChange={handleChange} \r\n                    required \r\n                    style={{ width: '100%', padding: 8 }}\r\n                    placeholder=\"Brief description of the event\"\r\n                  />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Venue:</label><br />\r\n                  <input type=\"text\" name=\"venue\" value={form.venue} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Detailed Information:</label><br />\r\n                  <textarea \r\n                    name=\"info\" \r\n                    value={form.info} \r\n                    onChange={handleChange} \r\n                    style={{ width: '100%', padding: 8, minHeight: 150 }}\r\n                    placeholder=\"Provide detailed information about the event (schedule, speakers, requirements, etc.)\"\r\n                  />\r\n                </div>\r\n                <div style={{ display: 'flex', gap: '10px' }}>\r\n                  {editingEvent && (\r\n                    <button \r\n                      type=\"button\" \r\n                      onClick={() => {\r\n                        setEditingEvent(null);\r\n                        setForm({ \r\n                          facultyId: userInfo.id, \r\n                          title: '', \r\n                          date: '', \r\n                          description: '', \r\n                          venue: '',\r\n                          info: ''\r\n                        });\r\n                      }} \r\n                      style={{ \r\n                        padding: '10px 20px', \r\n                        background: '#ccc', \r\n                        color: '#333', \r\n                        border: 'none', \r\n                        borderRadius: 4, \r\n                        fontWeight: 'bold', \r\n                        cursor: submitting ? 'not-allowed' : 'pointer' \r\n                      }}\r\n                      disabled={submitting}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  )}\r\n                  <button \r\n                    type=\"submit\" \r\n                    disabled={submitting} \r\n                    style={{ \r\n                      padding: '10px 32px', \r\n                      background: '#333', \r\n                      color: '#fff', \r\n                      border: 'none', \r\n                      borderRadius: 4, \r\n                      fontWeight: 'bold', \r\n                      cursor: submitting ? 'not-allowed' : 'pointer' \r\n                    }}\r\n                  >\r\n                    {submitting \r\n                      ? (editingEvent ? 'Updating...' : 'Requesting...') \r\n                      : (editingEvent ? 'Update Request' : 'Submit Request')\r\n                    }\r\n                  </button>\r\n                </div>\r\n              </form>\r\n              {successMsg && <div style={{ color: 'green', marginTop: 16 }}>{successMsg}</div>}\r\n              {errorMsg && <div style={{ color: 'red', marginTop: 16 }}>{errorMsg}</div>}\r\n            </div>\r\n          )}\r\n\r\n          {tab === 'profile' && (\r\n            <div style={{ maxWidth: 600 }}>\r\n              <h3>My Profile</h3>\r\n              <div style={{ background: '#f9f9f9', borderRadius: 8, padding: 20, boxShadow: '0 2px 4px rgba(0,0,0,0.08)' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', marginBottom: 16 }}>\r\n                  <div style={{ width: 60, height: 60, borderRadius: '50%', background: '#333', color: '#fff', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 24, marginRight: 16 }}>\r\n                    {(userInfo.name?.charAt(0) || 'F').toUpperCase()}\r\n                  </div>\r\n                  <div>\r\n                    <div style={{ fontSize: 18, fontWeight: 600 }}>{userInfo.name || 'Faculty Member'}</div>\r\n                    <div style={{ background: '#333', color: '#fff', padding: '2px 8px', fontSize: 12, borderRadius: 4, display: 'inline-block', marginTop: 4 }}>Faculty</div>\r\n                  </div>\r\n                </div>\r\n                <div style={{ marginBottom: 8 }}><strong>Email:</strong> {userInfo.email || 'N/A'}</div>\r\n                <div style={{ marginBottom: 8 }}><strong>Faculty ID:</strong> {userInfo.id}</div>\r\n                <div style={{ marginBottom: 16 }}><strong>Account Status:</strong> <span style={{ color: 'green' }}>Active</span></div>\r\n                <button\r\n                  onClick={() => {\r\n                    // Use the centralized logout function\r\n                    logout();\r\n                    window.location.href = 'http://localhost:3000/';\r\n                  }}\r\n                  style={{ padding: '10px 20px', background: '#d9534f', color: '#fff', border: 'none', borderRadius: 4, cursor: 'pointer', fontWeight: 'bold' }}\r\n                >\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n      \r\n      {/* Event Detail Modal */}\r\n      <Modal\r\n        show={showEventDetailModal}\r\n        onClose={() => setShowEventDetailModal(false)}\r\n        title=\"Event Details\"\r\n      >\r\n        {currentEventObj && (\r\n          <div>\r\n            <h3 style={{ margin: '0 0 16px 0' }}>{currentEventObj.title || currentEventObj.name}</h3>\r\n            \r\n            <div style={{ marginBottom: '12px' }}>\r\n              <strong>Date:</strong> {currentEventObj.event_date || currentEventObj.date}\r\n              {currentEventObj.time && <span> | <strong>Time:</strong> {currentEventObj.time}</span>}\r\n            </div>\r\n            \r\n            <div style={{ marginBottom: '12px' }}>\r\n              <strong>Venue:</strong> {currentEventObj.venue}\r\n            </div>\r\n            \r\n            <div style={{ marginBottom: '12px' }}>\r\n              <strong>Description:</strong> \r\n              <p style={{ margin: '8px 0' }}>{currentEventObj.description}</p>\r\n            </div>\r\n            \r\n            {currentEventObj.info && (\r\n              <div style={{ marginBottom: '12px' }}>\r\n                <strong>Additional Information:</strong>\r\n                <p style={{ margin: '8px 0', whiteSpace: 'pre-wrap' }}>{currentEventObj.info}</p>\r\n              </div>\r\n            )}\r\n\r\n            {currentEventObj.status && (\r\n              <div style={{ marginBottom: '12px' }}>\r\n                <strong>Status:</strong> {currentEventObj.status}\r\n              </div>\r\n            )}\r\n\r\n            {currentEventObj.remark && (\r\n              <div style={{ marginBottom: '12px' }}>\r\n                <strong>Remarks:</strong> \r\n                <p style={{ margin: '8px 0' }}>{currentEventObj.remark}</p>\r\n              </div>\r\n            )}\r\n            \r\n            <div style={{ marginTop: '24px', textAlign: 'right' }}>\r\n              <button \r\n                style={{ \r\n                  padding: '8px 16px', \r\n                  background: '#ddd', \r\n                  border: 'none', \r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer'\r\n                }} \r\n                onClick={() => setShowEventDetailModal(false)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FacultyDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rohail\\\\Desktop\\\\3rd year project\\\\college-event\\\\frontend\\\\src\\\\pages\\\\FacultyDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getEvents, requestEvent, getRequestedEvents, getEventsByFacultyId } from '../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FacultyDashboard() {\n  _s();\n  var _userInfo$name;\n  // Get faculty user info from localStorage with role separation\n  const getUserInfo = () => {\n    try {\n      // First try to get faculty-specific data\n      const facultyUser = JSON.parse(localStorage.getItem('user_faculty') || 'null');\n      if (facultyUser && facultyUser.role === 'faculty') {\n        return {\n          id: facultyUser.id || facultyUser._id || facultyUser.facultyId || '',\n          name: facultyUser.name || '',\n          email: facultyUser.email || '',\n          role: 'faculty'\n        };\n      }\n\n      // If faculty-specific data not found, check generic user data but verify it's faculty role\n      const genericUser = JSON.parse(localStorage.getItem('user') || 'null');\n      if (genericUser && genericUser.role === 'faculty') {\n        // Store into faculty-specific storage to prevent future role confusion\n        localStorage.setItem('user_faculty', JSON.stringify(genericUser));\n        return {\n          id: genericUser.id || genericUser._id || genericUser.facultyId || '',\n          name: genericUser.name || '',\n          email: genericUser.email || '',\n          role: 'faculty'\n        };\n      }\n\n      // No valid faculty data found\n      return {\n        id: '',\n        name: '',\n        email: '',\n        role: ''\n      };\n    } catch (error) {\n      console.error('Error parsing faculty user data:', error);\n      return {\n        id: '',\n        name: '',\n        email: '',\n        role: ''\n      };\n    }\n  };\n  const [userInfo, setUserInfo] = useState(getUserInfo());\n  const navigate = useNavigate();\n  const [tab, setTab] = useState('view');\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [form, setForm] = useState({\n    facultyId: userInfo.id,\n    title: '',\n    date: '',\n    description: '',\n    venue: ''\n  });\n  const [myRequestId, setMyRequestId] = useState(null);\n  const [polling, setPolling] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [successMsg, setSuccessMsg] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n  const [myRequests, setMyRequests] = useState([]);\n  const [requestsLoading, setRequestsLoading] = useState(true);\n  const [isValidFaculty, setIsValidFaculty] = useState(true);\n\n  // Check user role on component mount and prevent admin data leakage\n  useEffect(() => {\n    // Get latest user info and set to state\n    const latest = getUserInfo();\n    setUserInfo(latest);\n\n    // Store last active role to help prevent confusion\n    localStorage.setItem('lastActiveRole', 'faculty');\n\n    // If we don't have a valid faculty user, check if switching dashboards is needed\n    if (!latest.id || latest.role !== 'faculty') {\n      setIsValidFaculty(false);\n\n      // Check if we have admin data but not faculty data - this means we're likely\n      // trying to access faculty dashboard while logged in as admin\n      const adminData = JSON.parse(localStorage.getItem('user_admin') || 'null');\n      if (adminData && adminData.role === 'admin') {\n        const confirmSwitch = window.confirm('You appear to be logged in as an admin but trying to access the Faculty dashboard. ' + 'Would you like to switch to the Admin dashboard instead?');\n        if (confirmSwitch) {\n          navigate('/admin');\n          return;\n        }\n      }\n    } else {\n      setIsValidFaculty(true);\n      // Ensure form has the correct faculty ID\n      setForm(prev => ({\n        ...prev,\n        facultyId: latest.id\n      }));\n    }\n  }, [navigate]);\n\n  // Fetch all events\n  useEffect(() => {\n    const fetchEvents = async () => {\n      setLoading(true);\n      try {\n        const res = await getEvents();\n        // Filter to only show approved events - use case-insensitive comparison\n        const approvedEvents = (res.data || []).filter(event => {\n          const status = (event.status || '').toString().trim().toLowerCase();\n          return status === 'approved';\n        });\n        setEvents(approvedEvents);\n      } catch {\n        setEvents([]);\n      }\n      setLoading(false);\n    };\n    fetchEvents();\n  }, []);\n\n  // Handle form input\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle event request submit (API call)\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    setSuccessMsg('');\n    setErrorMsg('');\n    // Validation: only allow future dates\n    const today = new Date();\n    const selected = new Date(form.date);\n    if (selected <= today) {\n      setErrorMsg('Please select a future date for the event.');\n      setSubmitting(false);\n      return;\n    }\n    try {\n      var _res$data, _res$data2;\n      // Send request to admin with all details\n      const payload = {\n        ...form\n      };\n      const res = await requestEvent(payload);\n      setSuccessMsg('Event request sent to admin for approval!');\n      // Keep the faculty ID when resetting the form\n      setForm({\n        facultyId: form.facultyId,\n        // Keep the faculty ID\n        title: '',\n        date: '',\n        description: '',\n        venue: ''\n      });\n      setMyRequestId(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.id) || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2._id) || null);\n      setPolling(true);\n    } catch (err) {\n      setErrorMsg('Failed to send event request.');\n    }\n    setSubmitting(false);\n  };\n\n  // Poll for approval of the latest request and check for remarks\n  useEffect(() => {\n    let interval;\n    if (polling && myRequestId) {\n      interval = setInterval(async () => {\n        try {\n          var _res$data3;\n          const res = await getRequestedEvents();\n          const req = (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.find(r => r.id === myRequestId || r._id === myRequestId);\n          if (req) {\n            const status = (req.status || '').toString().trim().toLowerCase();\n            console.log('Polling: myRequestId', myRequestId, 'found request:', req, 'status:', status);\n\n            // Check for new remark\n            if (req.remark && !req.remarkNotified) {\n              window.alert(`Admin has added remark to your event request: \"${req.remark}\"`);\n\n              // Update the request to mark remark as notified\n              setMyRequests(prevRequests => prevRequests.map(r => r.id === myRequestId || r._id === myRequestId ? {\n                ...r,\n                remarkNotified: true\n              } : r));\n            }\n\n            // Check for approval\n            if (status === 'approved' || status === 'Approved'.toLowerCase()) {\n              setSuccessMsg('Your event has been approved and is now live!');\n              setPolling(false);\n              // Optionally, refresh events list\n              const eventsRes = await getEvents();\n              setEvents(eventsRes.data || []);\n\n              // Show appropriate alert based on whether there is a remark\n              if (req.remark) {\n                window.alert(`Your event request has been approved with remark: \"${req.remark}\". The event is now public.`);\n              } else {\n                window.alert('Your event request has been approved! The event is now public.');\n              }\n            }\n          }\n        } catch (err) {\n          // console.error('Polling error:', err);\n        }\n      }, 2000);\n    }\n    return () => clearInterval(interval);\n  }, [polling, myRequestId]);\n\n  // Fetch requested events for this faculty\n  useEffect(() => {\n    const fetchMyRequests = async () => {\n      if (tab === 'requests') {\n        setRequestsLoading(true);\n        try {\n          if (form.facultyId) {\n            const res = await getEventsByFacultyId(form.facultyId);\n            console.log('Faculty events response:', res.data);\n            setMyRequests(res.data || []);\n          } else {\n            console.log('No faculty ID found to fetch requests');\n            setMyRequests([]);\n          }\n        } catch (error) {\n          console.error('Error fetching faculty events:', error);\n          setMyRequests([]);\n        }\n        setRequestsLoading(false);\n      }\n    };\n    fetchMyRequests();\n  }, [tab, form.facultyId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem',\n      maxWidth: 900,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Faculty Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), !isValidFaculty ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        background: '#fff3cd',\n        border: '1px solid #ffeeba',\n        borderRadius: '8px',\n        marginBottom: '20px',\n        color: '#856404'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 10px 0'\n        },\n        children: \"Access Issue Detected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You are not currently logged in as faculty or your faculty data could not be found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Possible reasons:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"You may be logged in as admin but viewing the faculty dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Your session may have expired\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"There might be a role conflict in your browser storage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/auth'),\n          style: {\n            padding: '10px 20px',\n            background: '#333',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '4px',\n            marginRight: '10px',\n            cursor: 'pointer'\n          },\n          children: \"Log In Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            localStorage.removeItem('user');\n            localStorage.removeItem('user_admin');\n            localStorage.removeItem('user_faculty');\n            localStorage.removeItem('token');\n            navigate('/auth');\n          },\n          style: {\n            padding: '10px 20px',\n            background: '#dc3545',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Clear All & Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 16,\n          marginBottom: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('view'),\n          style: {\n            background: tab === 'view' ? '#333' : '#eee',\n            color: tab === 'view' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"View Upcoming Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('requests'),\n          style: {\n            background: tab === 'requests' ? '#333' : '#eee',\n            color: tab === 'requests' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"My Requested Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('create'),\n          style: {\n            background: tab === 'create' ? '#333' : '#eee',\n            color: tab === 'create' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"Request New Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setTab('profile'),\n          style: {\n            background: tab === 'profile' ? '#333' : '#eee',\n            color: tab === 'profile' ? '#fff' : '#333',\n            border: 'none',\n            padding: '0.5rem 1.5rem',\n            cursor: 'pointer'\n          },\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), tab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Upcoming Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 15\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading events...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 26\n        }, this) : events.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"No events found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 39\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: events.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: '1px solid #ddd',\n              borderRadius: 8,\n              padding: 16,\n              marginBottom: 16,\n              background: '#fafafa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: event.title || event.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Date: \", event.date || event.event_date, \" \\xA0 | \\xA0 Time: \", event.time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Venue: \", event.venue]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Description: \", event.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 25\n            }, this)]\n          }, event.id || event._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 23\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }, this), tab === 'requests' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My Requested Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this), requestsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading your requests...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 34\n        }, this) : myRequests.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No event requests found. Submit one in the Request New Event tab.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.85em',\n              color: '#666'\n            },\n            children: [\"Faculty ID in use: \", form.facultyId || userInfo.id || 'Not set']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: myRequests.map(request => {\n            const status = (request.status || '').toString().trim().toLowerCase();\n            let statusColor = '#999',\n              statusBg = '#eee',\n              statusText = status || 'pending';\n            if (status.toLowerCase() === 'approved') {\n              statusColor = '#2e7d32';\n              statusBg = '#e8f5e9';\n              statusText = 'Approved';\n            } else if (status === 'rejected') {\n              statusColor = '#c62828';\n              statusBg = '#ffebee';\n              statusText = 'Rejected';\n            } else if (status === 'pending') {\n              statusColor = '#f57c00';\n              statusBg = '#fff3e0';\n              statusText = 'Pending';\n            }\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '1px solid #ddd',\n                borderRadius: 8,\n                padding: 16,\n                marginBottom: 16,\n                background: '#fafafa'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  marginBottom: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: request.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    background: statusBg,\n                    color: statusColor,\n                    padding: '2px 8px',\n                    borderRadius: 12,\n                    fontSize: 12,\n                    textTransform: 'capitalize'\n                  },\n                  children: statusText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 14,\n                  marginBottom: 4\n                },\n                children: [\"Date: \", request.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 14,\n                  marginBottom: 4\n                },\n                children: [\"Venue: \", request.venue]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 14,\n                  marginBottom: 4\n                },\n                children: [\"Description: \", request.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 27\n              }, this), request.remark && status.toLowerCase() !== 'approved' && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 8,\n                  background: '#fffbe6',\n                  border: '1px solid #ffe58f',\n                  padding: 10,\n                  borderRadius: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Admin Remark:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 31\n                }, this), \" \", request.remark, status.toLowerCase() === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    marginLeft: 12,\n                    padding: '4px 12px',\n                    background: '#0275d8',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: 4,\n                    cursor: 'pointer',\n                    fontSize: 12\n                  },\n                  onClick: () => {\n                    setTab('create');\n                    setForm({\n                      facultyId: request.facultyId || userInfo.id,\n                      title: request.title || '',\n                      date: request.date || '',\n                      description: request.description || '',\n                      venue: request.venue || ''\n                    });\n                  },\n                  children: \"Edit Event\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 29\n              }, this)]\n            }, request.id || request._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 25\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }, this), tab === 'create' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 600\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Request New Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          style: {\n            background: '#fafafa',\n            padding: 20,\n            border: '1px solid #ddd',\n            borderRadius: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Faculty ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"facultyId\",\n              value: form.facultyId || userInfo.id,\n              onChange: handleChange,\n              required: true,\n              readOnly: true,\n              style: {\n                width: '100%',\n                padding: 8,\n                background: '#eee'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              value: form.title,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Event Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"date\",\n              value: form.date,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              value: form.description,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Venue:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"venue\",\n              value: form.venue,\n              onChange: handleChange,\n              required: true,\n              style: {\n                width: '100%',\n                padding: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: submitting,\n            style: {\n              padding: '10px 32px',\n              background: '#333',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 4,\n              fontWeight: 'bold',\n              cursor: submitting ? 'not-allowed' : 'pointer'\n            },\n            children: submitting ? 'Requesting...' : 'Submit Request'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }, this), successMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'green',\n            marginTop: 16\n          },\n          children: successMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 30\n        }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red',\n            marginTop: 16\n          },\n          children: errorMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 13\n      }, this), tab === 'profile' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 600\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#f9f9f9',\n            borderRadius: 8,\n            padding: 20,\n            boxShadow: '0 2px 4px rgba(0,0,0,0.08)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: 60,\n                height: 60,\n                borderRadius: '50%',\n                background: '#333',\n                color: '#fff',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: 24,\n                marginRight: 16\n              },\n              children: (((_userInfo$name = userInfo.name) === null || _userInfo$name === void 0 ? void 0 : _userInfo$name.charAt(0)) || 'F').toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 18,\n                  fontWeight: 600\n                },\n                children: userInfo.name || 'Faculty Member'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: '#333',\n                  color: '#fff',\n                  padding: '2px 8px',\n                  fontSize: 12,\n                  borderRadius: 4,\n                  display: 'inline-block',\n                  marginTop: 4\n                },\n                children: \"Faculty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 50\n            }, this), \" \", userInfo.email || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Faculty ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 50\n            }, this), \" \", userInfo.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Account Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 51\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: 'green'\n              },\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              localStorage.removeItem('user_faculty');\n              localStorage.removeItem('user');\n              localStorage.removeItem('token');\n              localStorage.removeItem('lastActiveRole');\n              navigate('/auth');\n            },\n            style: {\n              padding: '10px 20px',\n              background: '#d9534f',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 4,\n              cursor: 'pointer',\n              fontWeight: 'bold'\n            },\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n_s(FacultyDashboard, \"sTRsPqVYE4v67z2VX2n22597vLA=\", false, function () {\n  return [useNavigate];\n});\n_c = FacultyDashboard;\nexport default FacultyDashboard;\nvar _c;\n$RefreshReg$(_c, \"FacultyDashboard\");","map":{"version":3,"names":["React","useState","useEffect","getEvents","requestEvent","getRequestedEvents","getEventsByFacultyId","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","FacultyDashboard","_s","_userInfo$name","getUserInfo","facultyUser","JSON","parse","localStorage","getItem","role","id","_id","facultyId","name","email","genericUser","setItem","stringify","error","console","userInfo","setUserInfo","navigate","tab","setTab","events","setEvents","loading","setLoading","form","setForm","title","date","description","venue","myRequestId","setMyRequestId","polling","setPolling","submitting","setSubmitting","successMsg","setSuccessMsg","errorMsg","setErrorMsg","myRequests","setMyRequests","requestsLoading","setRequestsLoading","isValidFaculty","setIsValidFaculty","latest","adminData","confirmSwitch","window","confirm","prev","fetchEvents","res","approvedEvents","data","filter","event","status","toString","trim","toLowerCase","handleChange","e","target","value","handleSubmit","preventDefault","today","Date","selected","_res$data","_res$data2","payload","err","interval","setInterval","_res$data3","req","find","r","log","remark","remarkNotified","alert","prevRequests","map","eventsRes","clearInterval","fetchMyRequests","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","background","border","borderRadius","marginBottom","color","marginTop","onClick","marginRight","cursor","removeItem","display","gap","length","fontWeight","fontSize","event_date","time","request","statusColor","statusBg","statusText","justifyContent","textTransform","marginLeft","onSubmit","type","onChange","required","readOnly","width","disabled","boxShadow","alignItems","height","charAt","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Users/Rohail/Desktop/3rd year project/college-event/frontend/src/pages/FacultyDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getEvents, requestEvent, getRequestedEvents, getEventsByFacultyId } from '../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction FacultyDashboard() {\r\n  // Get faculty user info from localStorage with role separation\r\n  const getUserInfo = () => {\r\n    try {\r\n      // First try to get faculty-specific data\r\n      const facultyUser = JSON.parse(localStorage.getItem('user_faculty') || 'null');\r\n      if (facultyUser && facultyUser.role === 'faculty') {\r\n        return {\r\n          id: facultyUser.id || facultyUser._id || facultyUser.facultyId || '',\r\n          name: facultyUser.name || '',\r\n          email: facultyUser.email || '',\r\n          role: 'faculty'\r\n        };\r\n      }\r\n      \r\n      // If faculty-specific data not found, check generic user data but verify it's faculty role\r\n      const genericUser = JSON.parse(localStorage.getItem('user') || 'null');\r\n      if (genericUser && genericUser.role === 'faculty') {\r\n        // Store into faculty-specific storage to prevent future role confusion\r\n        localStorage.setItem('user_faculty', JSON.stringify(genericUser));\r\n        return {\r\n          id: genericUser.id || genericUser._id || genericUser.facultyId || '',\r\n          name: genericUser.name || '',\r\n          email: genericUser.email || '',\r\n          role: 'faculty'\r\n        };\r\n      }\r\n      \r\n      // No valid faculty data found\r\n      return { id: '', name: '', email: '', role: '' };\r\n    } catch (error) {\r\n      console.error('Error parsing faculty user data:', error);\r\n      return { id: '', name: '', email: '', role: '' };\r\n    }\r\n  };\r\n\r\n  const [userInfo, setUserInfo] = useState(getUserInfo());\r\n  \r\n  const navigate = useNavigate();\r\n  const [tab, setTab] = useState('view');\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [form, setForm] = useState({ \r\n    facultyId: userInfo.id, \r\n    title: '', \r\n    date: '', \r\n    description: '', \r\n    venue: '' \r\n  });\r\n  const [myRequestId, setMyRequestId] = useState(null);\r\n  const [polling, setPolling] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [successMsg, setSuccessMsg] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [myRequests, setMyRequests] = useState([]);\r\n  const [requestsLoading, setRequestsLoading] = useState(true);\r\n  const [isValidFaculty, setIsValidFaculty] = useState(true);\r\n  \r\n  // Check user role on component mount and prevent admin data leakage\r\n  useEffect(() => {\r\n    // Get latest user info and set to state\r\n    const latest = getUserInfo();\r\n    setUserInfo(latest);\r\n    \r\n    // Store last active role to help prevent confusion\r\n    localStorage.setItem('lastActiveRole', 'faculty');\r\n    \r\n    // If we don't have a valid faculty user, check if switching dashboards is needed\r\n    if (!latest.id || latest.role !== 'faculty') {\r\n      setIsValidFaculty(false);\r\n      \r\n      // Check if we have admin data but not faculty data - this means we're likely\r\n      // trying to access faculty dashboard while logged in as admin\r\n      const adminData = JSON.parse(localStorage.getItem('user_admin') || 'null');\r\n      if (adminData && adminData.role === 'admin') {\r\n        const confirmSwitch = window.confirm(\r\n          'You appear to be logged in as an admin but trying to access the Faculty dashboard. ' +\r\n          'Would you like to switch to the Admin dashboard instead?'\r\n        );\r\n        if (confirmSwitch) {\r\n          navigate('/admin');\r\n          return;\r\n        }\r\n      }\r\n    } else {\r\n      setIsValidFaculty(true);\r\n      // Ensure form has the correct faculty ID\r\n      setForm(prev => ({...prev, facultyId: latest.id}));\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Fetch all events\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await getEvents();\r\n        // Filter to only show approved events - use case-insensitive comparison\r\n        const approvedEvents = (res.data || []).filter(event => {\r\n          const status = (event.status || '').toString().trim().toLowerCase();\r\n          return status === 'approved';\r\n        });\r\n        setEvents(approvedEvents);\r\n      } catch {\r\n        setEvents([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  // Handle form input\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Handle event request submit (API call)\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    setSuccessMsg('');\r\n    setErrorMsg('');\r\n    // Validation: only allow future dates\r\n    const today = new Date();\r\n    const selected = new Date(form.date);\r\n    if (selected <= today) {\r\n      setErrorMsg('Please select a future date for the event.');\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n    try {\r\n      // Send request to admin with all details\r\n      const payload = { ...form };\r\n      const res = await requestEvent(payload);\r\n      setSuccessMsg('Event request sent to admin for approval!');\r\n      // Keep the faculty ID when resetting the form\r\n      setForm({ \r\n        facultyId: form.facultyId, // Keep the faculty ID\r\n        title: '', \r\n        date: '', \r\n        description: '', \r\n        venue: '' \r\n      });\r\n      setMyRequestId(res.data?.id || res.data?._id || null);\r\n      setPolling(true);\r\n    } catch (err) {\r\n      setErrorMsg('Failed to send event request.');\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  // Poll for approval of the latest request and check for remarks\r\n  useEffect(() => {\r\n    let interval;\r\n    if (polling && myRequestId) {\r\n      interval = setInterval(async () => {\r\n        try {\r\n          const res = await getRequestedEvents();\r\n          const req = res.data?.find(r => r.id === myRequestId || r._id === myRequestId);\r\n          if (req) {\r\n            const status = (req.status || '').toString().trim().toLowerCase();\r\n            console.log('Polling: myRequestId', myRequestId, 'found request:', req, 'status:', status);\r\n            \r\n            // Check for new remark\r\n            if (req.remark && !req.remarkNotified) {\r\n              window.alert(`Admin has added remark to your event request: \"${req.remark}\"`);\r\n              \r\n              // Update the request to mark remark as notified\r\n              setMyRequests(prevRequests => \r\n                prevRequests.map(r => \r\n                  (r.id === myRequestId || r._id === myRequestId) \r\n                    ? { ...r, remarkNotified: true } \r\n                    : r\r\n                )\r\n              );\r\n            }\r\n            \r\n            // Check for approval\r\n            if (status === 'approved' || status === 'Approved'.toLowerCase()) {\r\n              setSuccessMsg('Your event has been approved and is now live!');\r\n              setPolling(false);\r\n              // Optionally, refresh events list\r\n              const eventsRes = await getEvents();\r\n              setEvents(eventsRes.data || []);\r\n              \r\n              // Show appropriate alert based on whether there is a remark\r\n              if (req.remark) {\r\n                window.alert(`Your event request has been approved with remark: \"${req.remark}\". The event is now public.`);\r\n              } else {\r\n                window.alert('Your event request has been approved! The event is now public.');\r\n              }\r\n            }\r\n          }\r\n        } catch (err) {\r\n          // console.error('Polling error:', err);\r\n        }\r\n      }, 2000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [polling, myRequestId]);\r\n  \r\n  // Fetch requested events for this faculty\r\n  useEffect(() => {\r\n    const fetchMyRequests = async () => {\r\n      if (tab === 'requests') {\r\n        setRequestsLoading(true);\r\n        try {\r\n          if (form.facultyId) {\r\n            const res = await getEventsByFacultyId(form.facultyId);\r\n            console.log('Faculty events response:', res.data);\r\n            setMyRequests(res.data || []);\r\n          } else {\r\n            console.log('No faculty ID found to fetch requests');\r\n            setMyRequests([]);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching faculty events:', error);\r\n          setMyRequests([]);\r\n        }\r\n        setRequestsLoading(false);\r\n      }\r\n    };\r\n    fetchMyRequests();\r\n  }, [tab, form.facultyId]);\r\n\r\n  return (\r\n    <div style={{ padding: '2rem', maxWidth: 900, margin: 'auto' }}>\r\n      <h2>Faculty Dashboard</h2>\r\n      \r\n      {!isValidFaculty ? (\r\n        <div style={{ padding: '20px', background: '#fff3cd', border: '1px solid #ffeeba', borderRadius: '8px', marginBottom: '20px', color: '#856404' }}>\r\n          <h4 style={{ margin: '0 0 10px 0' }}>Access Issue Detected</h4>\r\n          <p>You are not currently logged in as faculty or your faculty data could not be found.</p>\r\n          <p>Possible reasons:</p>\r\n          <ul>\r\n            <li>You may be logged in as admin but viewing the faculty dashboard</li>\r\n            <li>Your session may have expired</li>\r\n            <li>There might be a role conflict in your browser storage</li>\r\n          </ul>\r\n          <div style={{ marginTop: '15px' }}>\r\n            <button \r\n              onClick={() => navigate('/auth')}\r\n              style={{ padding: '10px 20px', background: '#333', color: '#fff', border: 'none', borderRadius: '4px', marginRight: '10px', cursor: 'pointer' }}\r\n            >\r\n              Log In Again\r\n            </button>\r\n            <button \r\n              onClick={() => {\r\n                localStorage.removeItem('user');\r\n                localStorage.removeItem('user_admin');\r\n                localStorage.removeItem('user_faculty');\r\n                localStorage.removeItem('token');\r\n                navigate('/auth');\r\n              }}\r\n              style={{ padding: '10px 20px', background: '#dc3545', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n            >\r\n              Clear All & Log Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div style={{ display: 'flex', gap: 16, marginBottom: 24 }}>\r\n            <button onClick={() => setTab('view')} style={{ background: tab === 'view' ? '#333' : '#eee', color: tab === 'view' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>View Upcoming Events</button>\r\n            <button onClick={() => setTab('requests')} style={{ background: tab === 'requests' ? '#333' : '#eee', color: tab === 'requests' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>My Requested Events</button>\r\n            <button onClick={() => setTab('create')} style={{ background: tab === 'create' ? '#333' : '#eee', color: tab === 'create' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>Request New Event</button>\r\n            <button onClick={() => setTab('profile')} style={{ background: tab === 'profile' ? '#333' : '#eee', color: tab === 'profile' ? '#fff' : '#333', border: 'none', padding: '0.5rem 1.5rem', cursor: 'pointer' }}>My Profile</button>\r\n          </div>\r\n\r\n          {tab === 'view' && (\r\n            <div>\r\n              <h3>Upcoming Events</h3>\r\n              {loading ? <div>Loading events...</div> : (\r\n                events.length === 0 ? <div>No events found.</div> : (\r\n                  <div>\r\n                    {events.map(event => (\r\n                      <div key={event.id || event._id} style={{ border: '1px solid #ddd', borderRadius: 8, padding: 16, marginBottom: 16, background: '#fafafa' }}>\r\n                        <div style={{ fontWeight: 'bold', fontSize: 16 }}>{event.title || event.name}</div>\r\n                        <div>Date: {event.date || event.event_date} &nbsp; | &nbsp; Time: {event.time}</div>\r\n                        <div>Venue: {event.venue}</div>\r\n                        <div>Description: {event.description}</div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {tab === 'requests' && (\r\n            <div>\r\n              <h3>My Requested Events</h3>\r\n              {requestsLoading ? <div>Loading your requests...</div> : (\r\n                myRequests.length === 0 ? (\r\n                  <div>\r\n                    <p>No event requests found. Submit one in the Request New Event tab.</p>\r\n                    <p style={{ fontSize: '0.85em', color: '#666' }}>Faculty ID in use: {form.facultyId || userInfo.id || 'Not set'}</p>\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    {myRequests.map(request => {\r\n                      const status = (request.status || '').toString().trim().toLowerCase();\r\n                      let statusColor = '#999', statusBg = '#eee', statusText = status || 'pending';\r\n                      if (status.toLowerCase() === 'approved') { statusColor = '#2e7d32'; statusBg = '#e8f5e9'; statusText = 'Approved'; }\r\n                      else if (status === 'rejected') { statusColor = '#c62828'; statusBg = '#ffebee'; statusText = 'Rejected'; }\r\n                      else if (status === 'pending') { statusColor = '#f57c00'; statusBg = '#fff3e0'; statusText = 'Pending'; }\r\n                      return (\r\n                        <div key={request.id || request._id} style={{ border: '1px solid #ddd', borderRadius: 8, padding: 16, marginBottom: 16, background: '#fafafa' }}>\r\n                          <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                            <strong>{request.title}</strong>\r\n                            <span style={{ background: statusBg, color: statusColor, padding: '2px 8px', borderRadius: 12, fontSize: 12, textTransform: 'capitalize' }}>{statusText}</span>\r\n                          </div>\r\n                          <div style={{ fontSize: 14, marginBottom: 4 }}>Date: {request.date}</div>\r\n                          <div style={{ fontSize: 14, marginBottom: 4 }}>Venue: {request.venue}</div>\r\n                          <div style={{ fontSize: 14, marginBottom: 4 }}>Description: {request.description}</div>\r\n                          {/* Show remark only when status is pending */}\r\n                          {request.remark && status.toLowerCase() !== 'approved' && (\r\n                            <div style={{ marginTop: 8, background: '#fffbe6', border: '1px solid #ffe58f', padding: 10, borderRadius: 6 }}>\r\n                              <strong>Admin Remark:</strong> {request.remark}\r\n                              {/* Show edit button only when status is pending */}\r\n                              {status.toLowerCase() === 'pending' && (\r\n                                <button\r\n                                  style={{ marginLeft: 12, padding: '4px 12px', background: '#0275d8', color: '#fff', border: 'none', borderRadius: 4, cursor: 'pointer', fontSize: 12 }}\r\n                                  onClick={() => {\r\n                                    setTab('create');\r\n                                    setForm({\r\n                                      facultyId: request.facultyId || userInfo.id,\r\n                                      title: request.title || '',\r\n                                      date: request.date || '',\r\n                                      description: request.description || '',\r\n                                      venue: request.venue || ''\r\n                                    });\r\n                                  }}\r\n                                >\r\n                                  Edit Event\r\n                                </button>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {tab === 'create' && (\r\n            <div style={{ maxWidth: 600 }}>\r\n              <h3>Request New Event</h3>\r\n              <form onSubmit={handleSubmit} style={{ background: '#fafafa', padding: 20, border: '1px solid #ddd', borderRadius: 8 }}>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Faculty ID:</label><br />\r\n                  <input type=\"text\" name=\"facultyId\" value={form.facultyId || userInfo.id} onChange={handleChange} required readOnly style={{ width: '100%', padding: 8, background: '#eee' }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Title:</label><br />\r\n                  <input type=\"text\" name=\"title\" value={form.title} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Event Date:</label><br />\r\n                  <input type=\"date\" name=\"date\" value={form.date} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Description:</label><br />\r\n                  <textarea name=\"description\" value={form.description} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n                </div>\r\n                <div style={{ marginBottom: 12 }}>\r\n                  <label>Venue:</label><br />\r\n                  <input type=\"text\" name=\"venue\" value={form.venue} onChange={handleChange} required style={{ width: '100%', padding: 8 }} />\r\n                </div>\r\n                <button type=\"submit\" disabled={submitting} style={{ padding: '10px 32px', background: '#333', color: '#fff', border: 'none', borderRadius: 4, fontWeight: 'bold', cursor: submitting ? 'not-allowed' : 'pointer' }}>\r\n                  {submitting ? 'Requesting...' : 'Submit Request'}\r\n                </button>\r\n              </form>\r\n              {successMsg && <div style={{ color: 'green', marginTop: 16 }}>{successMsg}</div>}\r\n              {errorMsg && <div style={{ color: 'red', marginTop: 16 }}>{errorMsg}</div>}\r\n            </div>\r\n          )}\r\n\r\n          {tab === 'profile' && (\r\n            <div style={{ maxWidth: 600 }}>\r\n              <h3>My Profile</h3>\r\n              <div style={{ background: '#f9f9f9', borderRadius: 8, padding: 20, boxShadow: '0 2px 4px rgba(0,0,0,0.08)' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', marginBottom: 16 }}>\r\n                  <div style={{ width: 60, height: 60, borderRadius: '50%', background: '#333', color: '#fff', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 24, marginRight: 16 }}>\r\n                    {(userInfo.name?.charAt(0) || 'F').toUpperCase()}\r\n                  </div>\r\n                  <div>\r\n                    <div style={{ fontSize: 18, fontWeight: 600 }}>{userInfo.name || 'Faculty Member'}</div>\r\n                    <div style={{ background: '#333', color: '#fff', padding: '2px 8px', fontSize: 12, borderRadius: 4, display: 'inline-block', marginTop: 4 }}>Faculty</div>\r\n                  </div>\r\n                </div>\r\n                <div style={{ marginBottom: 8 }}><strong>Email:</strong> {userInfo.email || 'N/A'}</div>\r\n                <div style={{ marginBottom: 8 }}><strong>Faculty ID:</strong> {userInfo.id}</div>\r\n                <div style={{ marginBottom: 16 }}><strong>Account Status:</strong> <span style={{ color: 'green' }}>Active</span></div>\r\n                <button\r\n                  onClick={() => {\r\n                    localStorage.removeItem('user_faculty');\r\n                    localStorage.removeItem('user');\r\n                    localStorage.removeItem('token');\r\n                    localStorage.removeItem('lastActiveRole');\r\n                    navigate('/auth');\r\n                  }}\r\n                  style={{ padding: '10px 20px', background: '#d9534f', color: '#fff', border: 'none', borderRadius: 4, cursor: 'pointer', fontWeight: 'bold' }}\r\n                >\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FacultyDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}